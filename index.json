[{"categories":null,"content":"I broke the hotend of my Genius Pro - and decided to exchange the entire extruder with the â€œall metalâ€ one. This is a short overview. ","date":"2022-11-05","objectID":"/posts/2022-11-05-replace-genius-pro-extruder/:0:0","tags":null,"title":"Replace Genius Pro Extruder","uri":"/posts/2022-11-05-replace-genius-pro-extruder/"},{"categories":null,"content":"How it started Some month ago I learned about the new arachne perimeter generator. It is now possible to generate wider or thinner perimeter as it is needed. And I wondered: Will this allow me to print (almost) same quality prints with bigger nozzle sizes? So I replaced my .4 nozzle with a .6 nozzle and went for it. ","date":"2022-11-05","objectID":"/posts/2022-11-05-replace-genius-pro-extruder/:1:0","tags":null,"title":"Replace Genius Pro Extruder","uri":"/posts/2022-11-05-replace-genius-pro-extruder/"},{"categories":null,"content":"How it went Even though I didnâ€™t notice much of a difference with the first few prints: Over time the prints became worse; I considered fine-tuning some print parameters as different nozzle sizes would probably also result in other extrusion rates, retract values etc. However, it does not seem to be too dramatic - so I went with it for some time. Which was a mistake. After degrading print quality for a longer time, this print motivated me to investigate Especially the stringing was something I wanted to fix. I varied hotend temperature, retraction and flow rate. After a print with bad stringing and a lot of other issues motivated me to investigate that topic, I started printing some test prints with the goal to reduce stringing. Temperature, retraction, flow rateâ€¦ non of these typical candidates yielded improvements. I decided to check the hotend - as a plugged nozzle and similar issues can also cause that kind of issues: I finally decided to check the hotend and found a mess - which I didn't excactly improve when trying to fix it. But also the ball bearings of the extruder gearâ€¦ looked a bit worn out. The picture above doesnâ€™t even tell the whole story: The hotend was completely coated with filament. And when I started removing parts of the filament, I even managed to rip of the control cable. And letâ€™s put it that way: A part of the nozzle also decided to stay with the hotendâ€¦ What a success ğŸ‰. ","date":"2022-11-05","objectID":"/posts/2022-11-05-replace-genius-pro-extruder/:2:0","tags":null,"title":"Replace Genius Pro Extruder","uri":"/posts/2022-11-05-replace-genius-pro-extruder/"},{"categories":null,"content":"How it ended I thought about replacing just the hotend honestly - you usually get it for around 20â‚¬. At the same time I was wondering if I couldnâ€™t easily swap the extruders and at the same time fix some other issues such as the cheap plastic extruder lever of the default extruder or the limited temperature capacity. So I went with the â€œFull Metal Extruderâ€ that is offered by Artillery - and which I found discounted. The extruder can be replaced with just three screws - and so after a few days, the new extruder was mounted. New all metal extruder mounted to the Genius Pro. Even though not yet perfectly dialed in: The stringing improved a lot right away. The first prints also looked promissing. ","date":"2022-11-05","objectID":"/posts/2022-11-05-replace-genius-pro-extruder/:3:0","tags":null,"title":"Replace Genius Pro Extruder","uri":"/posts/2022-11-05-replace-genius-pro-extruder/"},{"categories":null,"content":"Developing Arduino boards is actually easier than one might think. You plug the development board onto your computerâ€™s USB, fire up Arduino IDE, and with just a few key strokes and clicks you can upload a first sketch to your development board. But what do you do if you just finished a more complex project and your development board is hard to reach in a door bell, water tank or robot you built? ","date":"2022-11-01","objectID":"/posts/2022-11-01-arduino-auto-update/:0:0","tags":null,"title":"Update ESP32 over the air","uri":"/posts/2022-11-01-arduino-auto-update/"},{"categories":null,"content":"Arduino OTA Arduino also supports so-called â€œover the airâ€ (OTA) updates. These allow you to flash a new sketch to your development board via Wifi. For this you need the library ArduinoOTA and a Wifi-enabled development board. For the ESP32 board - which I am using - this dependency is already in the development libraries of that board. First upload needs to happen via Serial After that Arduino IDE will find the network device automatically For the first upload the password needs to be entered Upload progress ","date":"2022-11-01","objectID":"/posts/2022-11-01-arduino-auto-update/:1:0","tags":null,"title":"Update ESP32 over the air","uri":"/posts/2022-11-01-arduino-auto-update/"},{"categories":null,"content":"The Sketch In order to make basically every Arduino Sketch OTA compatible, you just need to implement the setupWebUpdater function shown below and call it from your setup function. Furthermore, your need to make sure to call ArduinoOTA.handle() in every execution of the loop function. As we donâ€™t want everyone in our network to be able to easily flash new updates, we will define a password for the OTA updates: The password is provided as an MD5 hash (please remember: MD5 is not a good choice for hashing passwords). You can generate your hash easily by running e.g. echo -n \"MySecretPassword\"|md5 in your terminal. #include \u003cWiFi.h\u003e #include \u003cESPmDNS.h\u003e #include \u003cWiFiUdp.h\u003e #include \u003cArduinoOTA.h\u003e #define WIFI_SSID \"YOUR-WIFI-SSID\" #define WIFI_PASSWORD \"YOUR-WIFI-PASSWORD\" #define OTA_HASH \"7315a012ecad1059a3634f8be1347846\" // echo -n \"MySecretPassword\"|md5 void setup() { Serial.begin(9600); WiFi.setHostname(\"OTAExample\"); WiFi.begin(WIFI_SSID, WIFI_PASSWORD); Serial.print(\"Connecting to \"); Serial.println(WIFI_SSID); while (WiFi.status() != WL_CONNECTED) { delay(500); Serial.print(\".\"); } Serial.println(\"\"); Serial.println(\"WiFi connected. IP address: \"); Serial.println(WiFi.localIP()); setupWebUpdater(); } void loop() { // your logic ArduinoOTA.handle(); delay(250); } void setupWebUpdater(void) { ArduinoOTA.setHostname(\"OTAExample\"); ArduinoOTA.setPasswordHash(OTA_HASH); ArduinoOTA .onStart([]() { String type; if (ArduinoOTA.getCommand() == U_FLASH) type = \"sketch\"; else // U_SPIFFS type = \"filesystem\"; // NOTE: if updating SPIFFS this would be the place to unmount SPIFFS using SPIFFS.end() Serial.println(\"Start updating \" + type); }) .onEnd([]() { Serial.println(\"\\nEnd\"); }) .onProgress([](unsigned int progress, unsigned int total) { Serial.printf(\"Progress: %u%%\\r\", (progress / (total / 100))); }) .onError([](ota_error_t error) { Serial.printf(\"Error[%u]: \", error); if (error == OTA_AUTH_ERROR) Serial.println(\"Auth Failed\"); else if (error == OTA_BEGIN_ERROR) Serial.println(\"Begin Failed\"); else if (error == OTA_CONNECT_ERROR) Serial.println(\"Connect Failed\"); else if (error == OTA_RECEIVE_ERROR) Serial.println(\"Receive Failed\"); else if (error == OTA_END_ERROR) Serial.println(\"End Failed\"); }); ArduinoOTA.begin(); } ","date":"2022-11-01","objectID":"/posts/2022-11-01-arduino-auto-update/:2:0","tags":null,"title":"Update ESP32 over the air","uri":"/posts/2022-11-01-arduino-auto-update/"},{"categories":null,"content":"Summary I like this approach quite a lot: It doesnâ€™t add too much boilerplate to the sketch and therefore can become a default part of all your projects. There is even a â€œOTA Web Updaterâ€ example in the â€œArduinoOTAâ€ package - but that approach adds a lot of clutter and is less automated as it cannot be triggered directly from the ArduinoIDE. ","date":"2022-11-01","objectID":"/posts/2022-11-01-arduino-auto-update/:3:0","tags":null,"title":"Update ESP32 over the air","uri":"/posts/2022-11-01-arduino-auto-update/"},{"categories":null,"content":"Die Frage Eignet sich mein Altbau eigentlich fÃ¼r eine WÃ¤rmepumpe hat sich vermutlich fast jeder Altbaubesitzer schon gestellt. Im Netz finden sich allerlei Horrorgeschichten von elektrischen Heizpatronen und der angeblichen Notwendigkeit von FuÃŸbodenheizungen. Es gibt zum GlÃ¼ck MÃ¶glichkeiten, das Ganze nÃ¤herungsweise vorab zu bestimmen. Die wollen wir uns im Folgenden anschauen. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizung/:0:0","tags":null,"title":"Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe?","uri":"/posts/2022-10-29-heizung/"},{"categories":null,"content":"Mehr zu dieser Reihe In diesem dritten Teil meiner Reihe â€œHeizlastberechnungâ€ geht es um die Berechnung der Leistung von HeizkÃ¶rpern - und die Frage, ob die HeizkÃ¶rper ausreichend dimensioniert sind. Hier geht es zu den anderen Teilen. Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermitteln Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe? ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizung/:1:0","tags":null,"title":"Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe?","uri":"/posts/2022-10-29-heizung/"},{"categories":null,"content":"Eignet sich mein Haus fÃ¼r eine WÃ¤rmepumpe? Direkt vorweg: Nein, man benÃ¶tigt nicht zwingend FuÃŸbodenheizungen und ja, auch Altbauten kann man mit WÃ¤rmepumpen betreiben ohne sich in den finanziellen Ruin zu stÃ¼rzen. Bestimmen lÃ¤sst sich das Ã¼ber die sogenannte â€œJahresarbeitszahlâ€ (JAZ): Diese gibt an, wieviel kWh WÃ¤rmeenergie je investierter Kilowattstunde Strom die WÃ¤rmepumpe zur VerfÃ¼gung stellt. Teilen wir den HeizwÃ¤rmebedarf des Hauses durch die JAZ, wissen wir, wie viel Strom die WÃ¤rmepumpe benÃ¶tigt. Hier einige Beispiele: Szenario 2020 HeizwÃ¤rmebedarf 16.000kWh Stromkosten: 0,26â‚¬/kWh Gaskosten: 0,06â‚¬/kWh JAZ Strombedarf WP Kosten Gasheizung/Jahr Kosten Strom/Jahr 3 5.333 960â‚¬ 1.386â‚¬ 3,5 4.571 960â‚¬ 1.188â‚¬ 4 4.000 960â‚¬ 1.040â‚¬ 4,5 3.555 960â‚¬ 924â‚¬ Szenario 2022 HeizwÃ¤rmebedarf 16.000kWh Stromkosten: 0,68â‚¬/kWh Gaskosten: 0,23â‚¬/kWh JAZ Strombedarf WP Kosten Gasheizung/Jahr Kosten Strom/Jahr 3 5.333 3.680â‚¬ 3.626â‚¬ 3,5 4.571 3.680â‚¬ 3.108â‚¬ 4 4.000 3.680â‚¬ 2.720â‚¬ 4,5 3.555 3.680â‚¬ 2.417â‚¬ Man sieht: Bei den gÃ¼nstigen Gaspreisen der Vorjahre waren schon gute Jahresarbeitszahlen von 4 und besser nÃ¶tig, um mit der WÃ¤rmepumpe bei den Gaspreisen gleichzuziehen - und das bei hÃ¶heren Anschaffungskosten. Bei den aktuellen Gas- und Strompreisen sieht die Rechnung schon anders aus: Schon mit einer JAZ von 3 zieht die WÃ¤rmepumpe bei den laufenden Kosten etwa gleich und Ã¼berholt die Gasheizung sogar. Nun gibt es im Jahr 2022 (und darÃ¼ber hinaus) neben den reinen Energiekosten sicher noch andere gute GrÃ¼nde, in eine WÃ¤rmepumpe zu investieren: Versorgungssicherheit, Preisentwicklung, Ã¶kologische ErwÃ¤gungenâ€¦ wir verstehen â€œEignungâ€ hier erstmal eher wirtschaftlich. Das Problem bei diesen ganzen Gedankenspielen: Die Jahresarbeitszahl kennt man erst, wenn die WÃ¤rmepumpe schon ein Jahr im Betrieb ist. Und Laborwerte wie der sagenumwobene (S)COP haben generell wenig Aussagekraft - noch weniger im Altbau. Um nun dennoch auf eine mÃ¶glichst hohe JAZ spekulieren zu kÃ¶nnen, muss der Altbau einige Grundlagen erfÃ¼llen: MÃ¶glichst geringe Heizlast, d.h. geringer WÃ¤rmebedarf je mÂ² Den Vorlauftemperaturen der Heizung Der Heizlast haben wir uns in Teil 1 dieser Reihe: Heizlast eines Raumes und Hauses ermitteln ausgiebig gewidmet. Hier geht es nun um die Vorlauftemperaturen. Grob gesagt: Je niedriger die Vorlauftemperatur der Heizung, desto weniger Arbeit muss die WÃ¤rmepumpe leisten, um diese zu erreichen, desto besser die JAZ, desto geringer die Kosten. Das ist auch der Grund, warum alle Welt FuÃŸbodenheizungen und WÃ¤rmepumpen miteinander kombiniert: FuÃŸbodenheizungen benÃ¶tigen nur um die 30Â°C Vorlauftemperatur - alte Heizungen sind oftmals auf 75Â°C eingestellt. Ein gigantischer Unterschied fÃ¼r die Effizient der WÃ¤rmepumpe. Wir widmen uns hier also der Frage: Kann ich die Vorlauftemperatur meiner Heizung reduzieren - ohne dass die Bude kalt bleibt? Im Bild zu sehen: In fast allen RÃ¤umen ist die Leistung auch bei einer Vorlauftemperatur von 55Â°C ausreichend - und in fast keinem Raum bei einer Vorlauftemperatur von 45Â°C. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizung/:2:0","tags":null,"title":"Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe?","uri":"/posts/2022-10-29-heizung/"},{"categories":null,"content":"Messen Ã¼ber Reduzierung der Vorlauftemperatur Die Variante mit der wohl hÃ¶chsten Aussagekraft: Die Vorlauftemperatur des bestehenden Heizkessels wird auf 55Â°C runterreguliert - nach einem knackigen Winter wissen wir genau, ob die HeizkÃ¶rper damit in den RÃ¤umen weiterhin wohlige WÃ¤rme bereitstellen konnten. Die Nachteile dieser Variante: Zeitintensiv: Idealerweise eine Heizperiode, mindestens jedoch einige knackig kalte Tage um die Normauslegungstemperatur herum (beispielsweise -9Â°C). Kein ad hoc Ersatz: Ist der Heizkessel defekt, hat man mit dieser Variante keine Chance mehr zu ermitteln, ob die Vorlauftemperaturen ausreichen Der Vorlauf der Heizung muss umgestellt werden. AbhÃ¤ngig vom Modell kann dies mit mehr oder weniger Aufwand (Handbuch besorgen, Eigenwillige Tastensteuerung meistern) verbunden sein Gerade bei alten Anlagen mit schlecht eingestelltem hydraulischem Abgleichen, schlecht gedÃ¤mmten Rohren und alten Zirkulationspumpen bleiben bei dieser Variante mÃ¶glicherweise naheliegende Optimierungspotenziale unberÃ¼cksichtigt. Die Vorteile: Wenn selbst im tiefsten Winter der Wohnbereich warm ist und selbst die Handtuchheizung im Bad noch ihr Werk verrichtet hat man einen Etwaige Effizienz- und WÃ¤rmeverluste der Heizanlage sind bereits berÃ¼cksichtigt ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizung/:2:1","tags":null,"title":"Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe?","uri":"/posts/2022-10-29-heizung/"},{"categories":null,"content":"Heizlastberechnung \u0026 HeizkÃ¶rperleistung PlattenheizkÃ¶rper vom Typ 22 Zwei Konvektionsbleche zwischen zwei Platten in einem HeizkÃ¶rper Typ 22 Drei Konvektionsbleche zwischen drei Platten in einem HeizkÃ¶rper Typ 33 Die zweite Methode fÃ¼hrt Ã¼ber die Heizlastberechnung: Im Rahmen dieser haben wir bereits die Heizlast jedes Raumes einzelnd berechnet; unser Beispiel-Raum mit 23mÂ² hat beispielsweise eine Heizlast von 1049W. Der vorhandene HeizkÃ¶rper sollte nun mindestens diese Leistung bereitstellen kÃ¶nnen - fÃ¼r eine WÃ¤rmepumpe bei 55Â°C Vorlauf oder weniger. Ich gehe im Folgenden von sogenannten PlattenheizkÃ¶rpern aus: Noch Ã¤ltere RÃ¶hrenheizkÃ¶rper sind in der Regel nicht effizient bei niedrigeren Vorlauftemperaturen zu betreiben. Die Leistung eines HeizkÃ¶rpers wird in der Regel bestimmt vom HeizkÃ¶rpertyp, sowie seiner HÃ¶he und Breite. Bei PlattenheizkÃ¶rpern werden folgende Typen unterschieden: Typ 11: Eine Platte, ein Konvektionsblech Typ 20: Zwei Platten, kein Konvektionsblech Typ 21: Zwei Platten, ein Konvektionsblech Typ 22: Zwei Platten, zwei Konvektionsbleche Typ 30: Drei Platten, kein Konvektionsblech Typ 33: Drei Platten, drei Konvektionsbleche Mit einem Blick oben in den HeizkÃ¶rper lÃ¤sst sich also bestimmen, um welchen Typ es sich handelt. Werden nun noch Breite und HÃ¶he ausgemessen, haben wir alle Informationen, die zur Berechnung der WÃ¤rmeleistung benÃ¶tigt werden. Dazu gibt es entsprechende Tabellen im Netz, die konsultiert werden kÃ¶nnen, beispielsweise diese vom GroÃŸhandel fÃ¼r Reha und Haustechnik (Tabelle 1) oder diese Ãœbersicht fÃ¼r Bruderus HeizkÃ¶rper (Tabelle 2). In unserem Beispiel-Wohnzimmer gibt es einen HeizkÃ¶rper Typ 33 mit einer Breite von 1600mm und einer HÃ¶he von 600mm. GemÃ¤ÃŸ den beiden zuvor verlinkten Ãœbersichten hat einer dieser HeizkÃ¶rper folgende Leistungserte: Vorlauf/RÃ¼cklauf Wert lt. Tabelle 1 Wert lt. Tabelle 2 55Â°C/45Â°C 2021W 1891W 70Â°C/55Â°C 3231W 3000W Die Abweichung der Werte liegt nur bei etwa 7%. In allen FÃ¤llen liegt die WÃ¤rmeleistung des HeizkÃ¶rpers Ã¼ber den nÃ¶tigen 1049W Heizlast des Raumes. Das ist in Altbauten durchaus hÃ¤ufig anzutreffen, da die HeizkÃ¶rper frÃ¼her oftmals eher nach optischen Gesichtspunkten (â€œpasst unter das Fensterâ€) ausgewÃ¤hlt wurden und daher hÃ¤ufig Ã¼berdimensioniert sind. FÃ¼hren wir diese Analyse fÃ¼r jeden Raum durch, kennen wir die Heizlast des Raumes - und die WÃ¤rmeleistung der HeizkÃ¶rper. Ist die WÃ¤rmeleistung des HeizkÃ¶rpers grÃ¶ÃŸer als die Heizlast, wird es in diesem Raum voraussichtlich zu keinen Problemen bei der Reduzierung der Vorlauftemperaturen kommen. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizung/:2:2","tags":null,"title":"Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe?","uri":"/posts/2022-10-29-heizung/"},{"categories":null,"content":"Exkurs: WÃ¤rmeleistung umrechnen Die WÃ¤rmeleistung der HeizkÃ¶rper ist standardisiert fÃ¼r bestimmte Szenarien: In der Regel sind die Werte fÃ¼r 20Â°C Raumtemperatur angegeben - und fÃ¼r bestimmte Vorlauf- und RÃ¼cklauftemperaturen. Es ist aber auch mÃ¶glich, eine bekannte WÃ¤rmeleistung (bspw. 70Â°C Vorlauf, 55Â°C RÃ¼cklauf, 20Â°C Raumtemperatur) eines HeizkÃ¶rpers auf ein Wunschszenario umzurechnen, beispielsweise auf 45Â°C Vorlauf, 35Â°C RÃ¼cklauf und 22Â°C Raumtemperatur. So lÃ¤sst sich auch Ã¼berschlagen, ob die Vorlauftemperatur noch weiter reduziert werden kann. Leistung = normLeistung * ((((systemVorlauf - systemRuecklauf) / Log((systemVorlauf - systemTemperatur) / (systemRuecklauf - systemTemperatur))) / ((normVorlauf - normRuecklauf) / Log((normVorlauf - normTemperatur) / (normRuecklauf - normTemperatur)))) ^ hkExp) etwas augenfreundlicher: Mit dieser Formel lÃ¤sst sich die WÃ¤rmeleistung eines HeizkÃ¶rpers von der Normvorgabe auf eine andere Zielvorgabe umrechnen. Dabei stehen die Platzhalter fÃ¼r folgende Angaben: systemVorlauf: Wunsch-Vorlauf systemRuecklauf: Wunsch-RÃ¼cklauf systemTemperatur: Wunsch-Raumtemperatur normVorlauf: Vorlauf gemÃ¤ÃŸ Herstellerangabe normRuecklauf: RÃ¼cklauf gemÃ¤ÃŸ Herstellerangabe normTemperatur: Raumtemperatur gemÃ¤ÃŸ Herstellerangabe normLeistung: Leistung gemÃ¤ÃŸ Herstellerangabe UmrechnungHeizkoerper: Ergebnis der Berechnung hkExp: HeizkÃ¶rperexponent, hier: 1,3 fÃ¼r PlattenheizkÃ¶rper Im folgenden Beispiel soll die Formel angewandt werden: Die Leistung des HeizkÃ¶rpers von oben (3000W Leistung bei 70Â°C Vorlauf, 55Â°C RÃ¼cklauf, 20Â°C Raumtemperatur) soll fÃ¼r 45Â°C Vorlauf und 35Â°C bei der gleichen Raumtemperatur berechnet werden - vielleicht kÃ¶nnen wir die Vorlauftemperatur ja noch weiter reduzieren? Bei 45Â°C Vorlauf liefert unser HeizkÃ¶rper nur noch 1110W Leistung Laut Berechnung wÃ¼rde die Heizleistung des HeizkÃ¶rpers also sogar bei nur 45Â°C Vorlauf noch ausreichen um die Heizlast von 1049W zu decken. Aber gebt euch keinen Illusionen hin: Das Beispiel ist fiktiv - dass der Vorlauf noch deutlich unter 50Â°C gesenkt werden kann dÃ¼rfte fÃ¼r Altbauten mit PlattenheizkÃ¶rpern eher die Ausnahme sein, zumal hier auch nur ein HeizkÃ¶rper die entsprechende Reserve hat - die gleiche Berechnung mÃ¼sste ja nun fÃ¼r alle anderen HeizkÃ¶rper des Hauses auch wiederholt werden. Zu beachten: Zumindest im Schlafbereich kann in der Regel von reduzierten Raumtemperaturen ausgegangen werden: Das kommt der Leistung des HeizkÃ¶rpers zu gute. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizung/:3:0","tags":null,"title":"Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe?","uri":"/posts/2022-10-29-heizung/"},{"categories":null,"content":"Was wenn die Leistung einzelner oder mehrerer HeizkÃ¶rper nicht ausreicht? GrundsÃ¤tzlich kosten HeizkÃ¶rper nicht die Welt: Es ist denkbar - und nicht unÃ¼blich - dass im Rahmen des Einbaus einer WÃ¤rmepumpe auch einzelne oder mehrere HeizkÃ¶rper ausgetauscht werden. Hier kÃ¶nnen wieder die oben bereits verlinkten Angaben zur WÃ¤rmeleistung verschiedener HeizkÃ¶rpertypen konsultiert werden: Diesmal gewissermaÃŸen als RÃ¼ckwÃ¤rtssuche: Welcher HeizkÃ¶rper bietet die gesuchte WÃ¤rmeleistung bei reduziertem Vorlauf? Im einfachsten Fall kann schlicht der nÃ¤chstgrÃ¶ÃŸere Typ gewÃ¤hlt werden - also statt Typ 22 Typ 33 bei gleichen MaÃŸen. So passt der neue HeizkÃ¶rper weiterhin an die alte Stelle. Auch der Einbau von FuÃŸbodenheizungen ist natÃ¼rlich denkbar - aber deutlich aufwÃ¤ndiger. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizung/:4:0","tags":null,"title":"Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe?","uri":"/posts/2022-10-29-heizung/"},{"categories":null,"content":"Fazit Die Ausgangsfrage dieser Reihe war: Wieviel Energie werde ich nach der DÃ¤mmung der obersten Geschossdecke noch benÃ¶tigen und eignet sich mein Altbau damit fÃ¼r eine WÃ¤rmepumpe? Nun nenne ich noch keine WÃ¤rmepumpe mein Eigen - Ã¼ber die Heizlastberechnung konnte ich aber ermitteln, dass die DÃ¤mmung der obersten Geschossdecke bis zu 40% Einsparung mit sich bringt - und ich damit bei der Heizlast je mÂ² in durchaus interessante Bereiche fÃ¼r eine WÃ¤rmepumpe gelange. Durch die Berechnung der Leistung der HeizkÃ¶rper konnte ich ferner ermitteln, dass diese auch bei 55Â°C Vorlauf noch ausreichend Reserven haben, um das Haus im Winter auf Temperatur zu bringen. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizung/:5:0","tags":null,"title":"Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe?","uri":"/posts/2022-10-29-heizung/"},{"categories":null,"content":"Geht es ums Haus stolpert man immer wieder Ã¼ber den U-Wert: SÃ¤tze wie nach EnEV brauchste â€™nen U-Wert von 0,24 aber fÃ¼r KfW mÃ¼ssen es schon 0,2 sein gehÃ¶ren zu den StandardsÃ¤tzen des stolzen Altbaubesitzers. Hier betrachte ich kurz, was es mit dem U-Wert auf sich hat, wo man relevante Informationen fÃ¼r sein Haus findet - und wie man die Auswirkung einer DÃ¤mmung auf den U-Wert seines Hauses berechnen kann. ","date":"2022-10-29","objectID":"/posts/2022-10-29-uwert-ermitteln/:0:0","tags":null,"title":"Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermittelnn","uri":"/posts/2022-10-29-uwert-ermitteln/"},{"categories":null,"content":"Mehr zu dieser Reihe In diesem zweiten Teil meiner Reihe â€œHeizlastberechnungâ€ geht es um einige Infos rund um den U-Wert. Wer sich generell fÃ¼r das Thema Heizlastberechnung interessiert, kann einen Blick auf die anderen Teile werfen. Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln Heizlastberechnung - Teil 2: U-Wert ermitteln Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe? ","date":"2022-10-29","objectID":"/posts/2022-10-29-uwert-ermitteln/:1:0","tags":null,"title":"Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermittelnn","uri":"/posts/2022-10-29-uwert-ermitteln/"},{"categories":null,"content":"Was ist der U-Wert? Der U-Wert wird auch WÃ¤rmedurchgangskoeffizient genannt. Er beschreibt, wieviel WÃ¤rme durch ein Bauteil dringen kann - also beispielsweise vom Wohnzimmer durch die Mauer nach drauÃŸen. Der U-Wert gibt an, wieviel WÃ¤rme in Watt pro Quadratmeter entweicht - und zwar bei einem Temperaturunterschied von einem Grad Kelvin. Entsprechend wird der U-Wert in W/(mÂ²*K) angegeben - gesprochen â€œWatt pro Quadratmeter und pro Kelvinâ€. Je kleiner der U-Wert, desto weniger WÃ¤rme gelangt nach auÃŸen - desto geringer unsere Heizkosten. UngedÃ¤mmte Mauern und Decken oder alte Fenster kÃ¶nnen leicht einen U-Wert von 1 bis 3 W/(mÂ²K) haben. Dreifachverglaste Fenster gibt es heute mit einem U-Wert von bis zu 0,5 W/(mÂ²K), wer sein Dach dÃ¤mmt und KfW-FÃ¶rderung ins Auge fasst wird auch dem U-Wert 0,14 W/(mÂ²*K) begegnen. Dem U-Wert kommt eine kritische Bedeutung bei der Heizlast eines GebÃ¤udes zu: Ein ungedÃ¤mmtes Dach mit dem U-Wert 2 W/(mÂ²*K) fÃ¼hrt bei einem 100mÂ² groÃŸen Haus und einer Norm-Auslegungstemperatur von -9Â°C zu TransmissionswÃ¤rmeverlusten von 6.000 Watt. Bei 2100 Heizstunden lassen sich so Ã¼berschlÃ¤gig 12kW Heizenergie darauf zurÃ¼ckfÃ¼hren - je nach Kosten je kWh also 1200â‚¬ (bei 10ct je kWh) bis 2400 (20ct je kWh). ","date":"2022-10-29","objectID":"/posts/2022-10-29-uwert-ermitteln/:2:0","tags":null,"title":"Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermittelnn","uri":"/posts/2022-10-29-uwert-ermitteln/"},{"categories":null,"content":"Welchen U-Wert habe ich Ã¼berhaupt? Hier wollen wir uns besonders mit dem U-Wert im Kontext der Heizlastberechnung beschÃ¤ftigen. Insofern lautet die Frage ja erstmal: Welchen U-Wert muss ich fÃ¼r meine AuÃŸenwand angeben? Welchen fÃ¼r mein Dach? Aufschluss gibt oft erstmal die Bauakte. Hier ist festgehalten, mit welchen Materialien WÃ¤nde und Decken errichtet wurden. Hier wurde mit Bimshohlblocksteinen gebaut ","date":"2022-10-29","objectID":"/posts/2022-10-29-uwert-ermitteln/:3:0","tags":null,"title":"Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermittelnn","uri":"/posts/2022-10-29-uwert-ermitteln/"},{"categories":null,"content":"Beispielwandaufbau im Netz Im einfachsten Fall findet ihr Informationen zu so einem Wandaufbau im Netz: So gibt es beispielsweise ein Dokument des energie institut hessen in dem â€œU-Werte typischer AuÃŸenwÃ¤ndeâ€ vorgestellt werden. Dort findet sich ein eigner Abschnitt â€œAuÃŸenwÃ¤nde aus Bimshohlblocksteinen 30cmâ€. In einer detaillierten Tabelle wird genau ausgefÃ¼hrt, auf welchen U-Wert man Ã¼blicherweise kommt, werden zusÃ¤tzlich WÃ¤rmeÃ¼bergangswerte, Putzschichten etc bedacht. Wandaufbau einer AuÃŸenwand gemÃ¤ÃŸ energie institut hessen Im obigen Fall hat die Wand also einen U-Wert von 1,23W/(mÂ²*K). ","date":"2022-10-29","objectID":"/posts/2022-10-29-uwert-ermitteln/:3:1","tags":null,"title":"Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermittelnn","uri":"/posts/2022-10-29-uwert-ermitteln/"},{"categories":null,"content":"Exkurs: U-Werte umrechnen und DÃ¤mmung hinzuaddieren Nehmen wir nun an, die Wand wurde im Nachgang noch mit 14cm Styropor gedÃ¤mmt. Zwar findet sich auch hierzu eine Information beim energie institut hessen: Bei 12cm DÃ¤mmung kÃ¤me man auf 0,24W/(mÂ²K). Wir wollen es aber genau fÃ¼r unsere 14cm DÃ¤mmung. Kurze Google-Suche: Styropor hat einen Lambda-Wert von 0,035 W/mK. Um daraus den U-Wert zu berechnen nehmen wir den Kehrwert (1/0,035) um den WÃ¤rmewiderstandswert zu erhalten. Diesen multiplizieren wir mit 0,14m - und bilden erneut den Kehrwert: 14cm Styropor haben demnach einen U-Wert von 0,25 W/(mÂ²K). Oder anders ausgedrÃ¼ckt: 1/((1/0,035)*0,14) = 0,25 Wie berechnet man aber den U-Wert zweier verbundener Bauteile (Styropor + Wand)? Analog zu zuvor: Man addiert den WÃ¤rmewiderstandswert der beiden Bauteile - also wieder den Kehrwert der U-Werte. Also: Kehrwert beider U-Werte addieren - und davon dann wieder den Kehrwert bilden: 1/(1/1,23 + 1/0,25) = 0,207 - der U-Wert meiner AuÃŸenwand betrÃ¤gt (aufgerundet) 0,21 W/(mÂ²*K)\". ","date":"2022-10-29","objectID":"/posts/2022-10-29-uwert-ermitteln/:3:2","tags":null,"title":"Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermittelnn","uri":"/posts/2022-10-29-uwert-ermitteln/"},{"categories":null,"content":"Kompletten Wandaufbau selber berechnen Es gibt auch Tools im Netz die es erlauben, den kompletten Wandaufbau selber abzubilden. Mit beispielsweise ubakus.de kÃ¶nnen bequem verschiedene Baustoffe wie Ziegel, Putz und DÃ¤mmung aus einem Katalog gewÃ¤hlt werden. Wandaufbau mit ubakus.de, 30cm Hohlblockstein + 10cm Styropor Das Tool stellt den Wandaufbau schematisch dar, gibt den U-Wert aus und bietet darÃ¼ber hinaus auch viele weitere Informationen - wie Amortisationsrechner fÃ¼r DÃ¤mmmaÃŸnahmen, Hitzewiderstand etc pp. ","date":"2022-10-29","objectID":"/posts/2022-10-29-uwert-ermitteln/:3:3","tags":null,"title":"Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermittelnn","uri":"/posts/2022-10-29-uwert-ermitteln/"},{"categories":null,"content":"Energieberatung Wer ein Energiegutachten zu seinem Haus hat, kann dort ebenfalls relevante Informationen finden. Nicht immer wurde im Rahmen des Gutachtens zwangslÃ¤ufig auch eine Heizlastberechnung vorgenommen; insofern kann es schon vorkommen, dass man ein entsprechendes Gutachten sein Eigen nennt - und dennoch auf die Freude einer eigenen Heizlastberechnung nicht verzichten muss. Wandaufbau in einem Gutachten Wie unschwer zu erkennen ist, wird aber auch in machen Gutachten der Wandaufbau eher pauschaliert betrachtet: wer sich vorstellt, dass durch Hightech-Verfahren eine realitÃ¤tsgetreue Abbildung des Wandaufbaus erzeugt wird, auf der die Berechnung dann fuÃŸt: Weit gefehlt. ","date":"2022-10-29","objectID":"/posts/2022-10-29-uwert-ermitteln/:3:4","tags":null,"title":"Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermittelnn","uri":"/posts/2022-10-29-uwert-ermitteln/"},{"categories":null,"content":"Weitere Tabellen bei bekannten Wandaufbauten Um sich groÃŸe Rechnerei und Gutachten zu ersparen kann man auf noch generalistischere Ãœbersichtsseiten zurÃ¼ckgreifen. In dieser Ã¤lteren U-Wert Ãœbersicht zu FassadendÃ¤mmplatten von Caparol finden sich ebenfalls Ã¼bliche Wandbaustoffe und deren U-Werte ohne DÃ¤mmung oder mit DÃ¤mmung zwischen 6cm und 40cm. Schauen wir dort nach 30cm Hohlblocksteinen finden wir fÃ¼r verschiedene DÃ¤mmstoffdicken folgende Angaben: 10cm Styropor: 0,28 W/(mÂ²*K) (der Wert der auch fÃ¼r 10cm Styropor bei ubakus.de berechnet wurde) 12cm Styropor: 0,24 W/(mÂ²*K) (der Wert der fÃ¼r 12cm Styropor auch bei energie institut hessen angegeben wurde) 14cm Styropor: 0,21 W/(mÂ²*K) (der Wert, den wir weiter oben fÃ¼r 14cm Styropor auch berechnet haben) Nach allen Ãœberlegungen zur Ermittlung des U-Wertes von AuÃŸenwÃ¤nden halten wir also fest: Grobe Ãœbersichtstabellen erfÃ¼llen schon ihren Zweck, wenn man zumindest die Wandart und -stÃ¤rke sowie ggf. die DÃ¤mmung kennt. ","date":"2022-10-29","objectID":"/posts/2022-10-29-uwert-ermitteln/:3:5","tags":null,"title":"Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermittelnn","uri":"/posts/2022-10-29-uwert-ermitteln/"},{"categories":null,"content":"Pauschalwerte bei unbekannten Aufbauten Auch fÃ¼r andere Bauteile gibt es im Netz in aller Regel grobe Werte an denen man sich orientieren kann, sollte man in Bauakte \u0026 Co nicht fÃ¼ndig werden. Gerade die Fenster im Haus kÃ¶nnen aus unterschiedlichen Baujahren in unterschiedlichen QualitÃ¤ten eingebaut worden sein. Grob lassen sich hier folgende Werte annehmen: Fenstertyp U-Wert in W/(mÂ²*K) Einfachverglasung 5,6 2-Scheiben Isolierglas 2,8 2-Scheiben WÃ¤rmeschutzglas 1,0 - 1,2 3-Scheiben WÃ¤rmeschutzglas 0,5 - 0,7 Beim Institut Wohnen und Umwelt findet sich darÃ¼ber hinaus eine umfassende Liste von Pauschalwerten fÃ¼r Bauteile wie AuÃŸenwÃ¤nde (Tabelle 5), Geschossdecken (Tabelle 6), DachschrÃ¤gen (Tabelle 7), FuÃŸbÃ¶den (Tabelle 8) und Fenster (Tabelle 9). Hier kommt man oft schon zum Ziel, wenn man das Baualter/Baujahr kennt und grob weiÃŸ ob die Wand/Decke aus Holz oder Beton besteht. ","date":"2022-10-29","objectID":"/posts/2022-10-29-uwert-ermitteln/:3:6","tags":null,"title":"Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermittelnn","uri":"/posts/2022-10-29-uwert-ermitteln/"},{"categories":null,"content":"Fazit Auch wer keine exakten Informationen zu den U-Werten seines GebÃ¤udes zur Hand hat, kann im Netz zumindest hinreichend gute Pauschalwerte finden, die sich zumindest fÃ¼r einen ersten Wurf einer Heizlastberechnung gut eignen. ","date":"2022-10-29","objectID":"/posts/2022-10-29-uwert-ermitteln/:4:0","tags":null,"title":"Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermittelnn","uri":"/posts/2022-10-29-uwert-ermitteln/"},{"categories":null,"content":"Energiekrise, Heizkostenentwicklung, Nachhaltigkeit: (Nicht nur) wer einen Altbau hat wird sich dieser Tage intensiv mit der Frage beschÃ¤ftigen, wo man den Heizenergiebedarf des Hauses weiter optimieren kann und ob beispielsweise eine WÃ¤rmepumpe in Frage kommt. Mit einer sogenannten Heizlastberechnung ist es mÃ¶glich, ein Modell des Heizenergiebedarfes eines Hauses zu entwickeln und zu verstehen, ob sich die vorhandenen HeizkÃ¶rper beispielsweise fÃ¼r eine WÃ¤rmepumpe eignen. In meinem konkreten Fall lautet die Frage daher: Wieviel Energie werde ich nach der DÃ¤mmung der obersten Geschossdecke noch benÃ¶tigen und eignet sich mein Altbau damit fÃ¼r eine WÃ¤rmepumpe? Im Laufe dieser Reihe soll diese Frage beantwortet werden; wir beginnen hier mit der Heizlastberechnung. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:0:0","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"Worum geht es? Hier wird eine Heizlastberechnung anhand eines 23mÂ² groÃŸen Raumes durchgefÃ¼hrt - und am Ende die Gesamtheizlast des Hausesauf Basis der Heizlasten weiterer RÃ¤ume berechnet. Mit dem Ergebnis kann bspw. die Auslegung eines Heizkessels Ã¼berschlÃ¤gig berechnen - oder abschÃ¤tzen ob der 3kW HeizkÃ¶rper im Wohnzimmer auch bei Vorlauftemperaturen von 55Â°C oder gar 45Â°C noch ausreichend Leistung hat um den Raum zu erwÃ¤rmen. Gerade letzteres ist oft kritisch um abzuschÃ¤tzen, ob eine WÃ¤rmepumpe bspw. rentabel ist. Im Rahmen dieser Reihe werden wir die Heizlast einzelner RÃ¤ume berechnen, die Leistung von HeizkÃ¶rpern ermitteln und diese Leistung fÃ¼r geringere Vorlauftemperaturen umrechen. Im Bild zu sehen: In fast allen RÃ¤umen ist die Leistung auch bei einer Vorlauftemperatur von 55Â°C ausreichend - und in fast keinem Raum bei einer Vorlauftemperatur von 45Â°C. Da dies eine mehrteilige Reihe ist empfehle ich auch folgende LektÃ¼re: Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln Heizlastberechnung - Teil 2: U-Wert von Bauteilen ermitteln Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe? ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:1:0","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"Ein Wort vorab Ich bin nicht vom Fach - alle Angaben sind falsch ;-). Mein Ziel ist es nicht, eine 100% akurate Ermittlung der Heizlast meines Hauses vorzunehmen (die Heizlastberechnung an sich ist ja schon nur ein Modell): Sondern die grundlegenden Konzepte soweit verinnertlicht zu haben, dass ich nÃ¤herungsweise verstehen kann, wie sich bspw. die DÃ¤mmung der ob ersten Geschossdecke auf meinen HeizwÃ¤rmebedarf auswirkt. Was wir hier machen ist nach meinem VerstÃ¤ndnis eine Interpretation der Norm DIN EN 12831-1: Energetische Bewertung von GebÃ¤uden - Verfahren zur Berechnung der Norm-Heizlast - Teil 1: Raumheizlast. Die Norm liegt mir nicht vor, und das Netz ist voller veralteter, falsch abgeschriebener und unvollstÃ¤ndiger Informationen dazu, die ich nach besten Wissen und Gewissen neu arrangiere. Zu dieser Norm gibt es auch einen Teil 2: Heizungsanlagen in GebÃ¤uden - Verfahren zur Berechnung der Norm-Heizlast - Beiblatt 2: Vereinfachtes Verfahren zur Ermittlung der GebÃ¤ude-Heizlast und der WÃ¤rmeerzeugerleistung Der nach meinem VerstÃ¤ndnis nicht mehr aktuell ist und sich auf Verbrauchsmessungen und HÃ¼llflÃ¤chenberechnungen stÃ¼tzt. Beim IKZ: Magazin fÃ¼r GebÃ¤ude und Energietechnik wird die vereinfachte Berechnung am Beispiel durchgefÃ¼hrt. Weiterhin gibt es einen Teil 3: Energetische Bewertung von GebÃ¤uden - Verfahren zur Berechnung der Norm-Heizlast - Teil 3: TrinkwassererwÃ¤rmungsanlagen, Heizlast und Bedarfsbestimmung Dieser befasst sich mit der TrinkwassererwÃ¤rmung, die damit nicht Teil der hier geschilderten Heizlastberechnug ist. Hier kommt der Gesetzgeber mit einer Formel zur Hilfe: Quadratmeterzahl Haus * 32 * 1,1, die so in Â§9 der Heizkostenverordnung vorgeschlagen wird. In meinem Fall komme ich auf 110 * 32 * 1,1 = 3.872kWh/a was wiederum den 4.626 kWh/a aus einem Energiegutachten recht nahe kommen. Alternativ kÃ¶nnte man auch Ã¼berschlÃ¤gig den Gasverbrauch eines Sommermonates (da ohne HeizwÃ¤rme) mit 12 multiplizieren um auf den Jahresverbrauch zur TrinkwassererwÃ¤rmung zu kommen; auch damit komme ich Ã¼berschlÃ¤gig auf den Wert aus dem Energiegutachten. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:2:0","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"Wie setzt sich die Heizlast zusammen? Die Heizlast eines Raumes ist die Summe folgender WÃ¤rmeverluste: TransmissionswÃ¤rmeverluste: Wieviel WÃ¤rme verliert ein Raum durch Fenster, Decken und WÃ¤nde nach auÃŸen oder in benachbarte RÃ¤ume? LÃ¼ftungswÃ¤rmeverluste: Wieviel WÃ¤rme verliert ein Raum durch LÃ¼ftung? Aufheizleistung: Wieviel WÃ¤rme wird benÃ¶tigt um den Raum nach Absenkung/Nichtbenutzung wieder auf Temperatur zu bringen Durch die Erhebung dieser Informationen und Aufsummierung aller RÃ¤ume kÃ¶nnen wir die Heizlast fÃ¼r das gesamte Haus berechnen. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:3:0","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"Heizlastberechnung Im Folgenden berechnen wir die Heizlast fÃ¼r einen 23mÂ² groÃŸen Beispielraum. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:4:0","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"TransmissionswÃ¤rmeverluste Die TransmissionswÃ¤rmeverluste sind die WÃ¤rmeverluste, die ein Raum durch WÃ¤nde, Decken, BÃ¶den und Fenster zu anderen RÃ¤umen hat. Aus GrÃ¼nden der Einfachheit werden RÃ¤ume mit gleichem Temperaturnivau in der Rechnung nicht berÃ¼cksichtigt (die Wand vom Wohnzimmer zum Esszimmer muss also nicht separat berÃ¼cksichtigt werden, da man davon ausgeht, dass die die WÃ¤rmeverluste gegenseitig ausgleichen). Die Heizlast fÃ¼r alle genannten Bauteille wird dabei wie folgt berechnet: FlÃ¤che des Bauchteils * WÃ¤rmedurchgangskoeffizient * Temperaturdifferenz Der WÃ¤rmedurchgangskoeffizient ist der oft zitierte U-Wert. Er gibt an, wieviel Watt WÃ¤rmeleistung je Quadratmeter und Grad Kelvin bspw. drauÃŸen verloren geht. Einige MÃ¶glichkeiten an diesen U-Wert zu gelangen sind in Heizlastberechnung - Teil 2: U-Wert ermitteln aufgefÃ¼hrt. Die Temperaturdifferenz ist hierbei die Temperaturdifferenz zwischen dem betrachteten Raum (bspw. 21Â°C im Wohnzimmer) und dem angrenzenden Bereich (etwa 17Â°C im Schlafzimmer). Achtung: FÃ¼r den AuÃŸenbereich wird die sogenannte Normauslegungstemperatur betrachtet. Diese lÃ¤sst sich auf verschiedenen Webseiten nachschlagen, bspw. auf der Klimakarte des Bundesverbandes WÃ¤rmepumpe e.V. Bei mir liegt die Normauslegungstemperatur -9Â°C. Im Wohnzimmer heize ich auf 21Â°C - die Temperaturdiffernz liegt damit bei 30Â°K. Ein Beispiel: 6,58mÂ² FensterflÃ¤che mit einem U-Wert von 1,9 W/(mÂ²*K) bei einer Temperaturdifferenz von 30Â°K: 6,58mÂ² * 1,9 W/(mÂ²*K) * 30K = 375,06 W Der Temperaturverlust der FensterflÃ¤che betrÃ¤gt also 375,06 Watt. Wollen wir die TransmissionswÃ¤rmeverluste fÃ¼r unseren 23mÂ² groÃŸen Beispielraum berechnen, mÃ¼ssen natÃ¼rlich noch Decke, Boden, TÃ¼r zum Flur etc. betrachtet werden. Dies kÃ¶nnte bspw. wie folgt aussehen: Bauteil FlÃ¤che (mÂ²) U-Wert (W/mÂ²*K) Temperatur-Differenz (Â°K) Verlust (W) Fenster 6,58 1,9 30 375,06 AuÃŸenwand 1,5 0,24 30 10,8 Rolladenkasten 1,57 1 30 47,1 Decke 23 0,14 11 35,42 Keller 23 1 11 253 TÃ¼r Flur 2,39 3 4 28,68 Summe 750,06 Die TransmissionswÃ¤rmeverluste des Beispielraumes betragen in Summe also rund 750 W. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:4:1","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"LÃ¼ftungswÃ¤rmeverluste FÃ¼r ein gesundes Raumklima muss gelÃ¼ftet werden, entweder hÃ¤ndisch oder durch automatische LÃ¼ftungsanlagen. Durch den Austausch der aufgeheizten, nassen Luft gegen kalte Luft sinkt die Luftfeuchtigkeit. Es wird aber auch WÃ¤rmenergie abgegeben. Zur Berechnung stellt sich zunÃ¤chst die Frage, wie oft die Raumluft je Stunde ausgetauscht wird (die sogenannte Luftwechselrate): Eine Luftwechselrate von 1 h^-1 bedeutet, dass das gesamte Raumvolumen einmal je Stunde ausgetauscht wird. Im Falle eines 23mÂ² groÃŸen Raumes mit 2,55m DeckenhÃ¶he also 23 * 2,55 * 1h^-1 = 58,65mÂ³/h Luft. Es gibt fÃ¼r unterschiedliche RÃ¤ume unterschiedliche Angaben zu angestrebten Luftwechselramen - ein Badezimmer oder eine KÃ¼che wird man wegen der hohen Luftfeuchtigkeit sicher Ã¶fter/lÃ¤nger lÃ¼ften als ein Wohnzimmer. Zumindest fÃ¼r Standard-RÃ¤ume scheint aber hÃ¤ufig eine Luftwechselrate von 0,5 h^-1 angenommen zu werden: Im Schnitt wird dann das Raumvolumen an Luft alle zwei Stunden ausgetauscht. FÃ¼r unsere Rechnung ergibt sich damit ein Volumenstrom von 29,325mÂ³/h: 23mÂ² * 2,55m * 0,5h^-1 = 29,325mÂ³/h. Um nun die LÃ¼ftungswÃ¤rmeverluste zu berechnen, multiplizieren wir den berechneten Volumenstrom mit der spezifischen WÃ¤rmekapazitÃ¤t von Luft (0,34 Wh/(mÂ³*K)) und der Temperaturdifferenz: 29,32mÂ³/h * 30K * 0,34 Wh/(mÂ³*K) = 299,12 W Oder alles in einer Formel: RaumflÃ¤che * RaumhÃ¶he * Luftwechselrate * Temperaturdifferenz * WÃ¤rmespeicherkapazitÃ¤t_Luft Oder eben: 23mÂ² * 2,55m * 0,5h^-1 * 30K * 0,34Wh/(mÂ³*K) = 299,12 W Der LÃ¼ftungswÃ¤rmeverlust unseres Beispielraumes betrÃ¤gt damit 299,12 W. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:4:2","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"Wiederaufheizleistung Die Wiederaufheizleistung gibt an, wie viel Leistung benÃ¶tigt wird, wenn er nach Unterbrechung des Heizbetriebes (bspw. wg. Nachtabsenkung oder Nichtbenutzung) wieder aufgeheizt werden soll. Mein persÃ¶nlicher Eindruck ist, dass dieser Wert hÃ¤ufig eher unterschlagen wird, dazu finden sich vereinzelt auch Quellen: Meistens wird bei der Heizlastberechnung diese Aufheizleistung nicht berÃ¼cksichtigt, weil dadurch die Leistung des WÃ¤rmererzeugers und die Raumheizlasten und entsprechend die HeizflÃ¤chen fÃ¼r den â€œnormalen Betriebâ€ zu groÃŸ ausgelegt werden und sich die WÃ¤rmeabgabe der HeizflÃ¤chen evtl. als FremdwÃ¤rme bemerkbar machen. Da aber zunehmend die Heizung fÃ¼r das gesamte GebÃ¤ude oder einige RÃ¤ume zeitweise abgesenkt oder sogar total abgeschaltet werden, wird die Zusatzaufheizleistung wieder aktuell. Quelle: http://www.bosy-online.de/heizlastberechnung_nach_din_en_12831.htm Bei GebÃ¤ude Energieberater findet sich gar die Information, dass der Wiederaufheizfaktor mit der Ãœberarbeitung der Norm DIN EN 12831 â€œnational auf 0 gesetztâ€ wurde - und damit die Wiederaufheizleistung pauschal immer mit 0W veranschlagt wird: Meistens wird die Heizlast zu hoch ermittelt. Jetzt wurde die Notbremse gezogen. Wegen der teilweise harschen Kritik, vor allem am Wiederaufheizfaktor, der bei WÃ¤rmepumpen nicht sinnvoll anzuwenden ist und auch allgemein die Effizienz einer Anlage reduziert, wurde eine nationale Neuherausgabe des Beiblatts zur DIN EN 12831 eingeleitet. [â€¦] Der Wiederaufheizfaktor wird national auf 0 gesetzt und im Vorwort der Begriff â€Norm-Heizlastâ€œ definiert. Quelle: https://www.geb-info.de/neue-normen/neue-normen-heizlastberechnung-wird-ueberarbeitet FÃ¼r alle Interessierten, die den Wert dennoch berechnen mÃ¶chten: Die Aufheizleistung ist das Produkt aus der GrundflÃ¤che des Raumes in Quadratmetern und dem Wiederaufheizfaktor. Letzterer berÃ¼cksichtigt Faktoren wie GebÃ¤udemasse, Luftwechselrate, gewÃ¼nschter Wiederaufheizzeit und Absenkzeit bzw. dem Temperaturabfall in der Absenkzeit. Der korrekte Wert lÃ¤sst sich entsprechenden Tabellen entnehmen. Ein Beispiel: WÃ¤hrend der Nachtabsenkung sinkt die Temperatur im 23mÂ² groÃŸen Raum um 3Â°C, Fenster und TÃ¼ren sind Ã¼ber Nacht geschlossen. Die GebÃ¤udemasse ist schwer/mittelschwer, innerhalb von einer Stunde soll der Raum wieder warm sein: GemÃ¤ÃŸ Tabelle betrÃ¤gt der Wiederaufheizfaktor fÃ¼r diese Rahmenbedingungen 34 W/mÂ². Damit wird die Aufheizleistung fÃ¼r unseren 23mÂ² groÃŸen Beispielraum mit 34 W/mÂ² * 24mÂ² = 787Wberechnet. Aus meiner Laiensicht kann die Wiederaufheizleistung zunÃ¤chst auf 0W gesetzt werden; zum Abgleich mit den realen VerbrÃ¤uchen kann die Wiederaufheizleistung dann feinjustiert werden, Ã¼ber die jeweiligen Wiederaufheizfaktoren lassen sich dann Szenarien abbilden wie â€œBÃ¼ro, von 17-8 Uhr unbeheiztâ€ (hÃ¶herer Faktor) oder â€œWohnzimmer mit nur kleiner AuÃŸenwand und entsprechend geringem Temperaturabfall in der Nachtâ€ (kleinerer Faktor). FÃ¼r unseren 23mÂ² groÃŸen Beispielraum notieren wir fÃ¼r die Wiederaufheizleistung damit 0 Watt. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:4:3","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"Die Summe der WÃ¤rmeverluste unseres Beispielraumes Unser 23mÂ² groÃŸer Raum hat nun: TransmissionswÃ¤rmeverluste von 750 W LÃ¼ftungswÃ¤rmeverluste 299,12 W Wiederaufheizleistung von 0 W In Summe also eine Heizlast von 1049,12 W. Die Heizlast wird in der Regel in Watt je mÂ² angegeben - also 1049,12W / 23mÂ² = 45,61 W/mÂ² fÃ¼r unseren Beispielraum. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:4:4","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"Heizlastberechnung fÃ¼r das gesamte Haus Diese Heizlastberechnung kÃ¶nnen wir nun Raum fÃ¼r Raum wiederholen um so die Heizlast des gesamten Hauses zu ermitteln. Hier ein fiktives Beispiel mit dem Beispielraum von oben sowie weiteren Zimmern. Die Heizlasten je mÂ² kÃ¶nnen stark variieren - beispielsweise weil ein Zimmer vielleicht noch alte Fenster hat oder an der Wetterseite des Hauses gelegen ist. Raum Heizlast (W) Heizlast je mÂ² (W/mÂ²) Wohnzimmer 1049 46 KÃ¼che 400 60 Esszimmer 1000 100 Bad 300 55 Flur 600 50 Schlafzimmer 1 700 40 Schlafzimmer 2 800 60 BÃ¼ro 500 70 Summe 5349 60 In Summe kommen wir also auf eine Heizlast von 5349 W - oder grob 60 W/mÂ². Das wÃ¤re in diesem Fall fÃ¼r einen Altbau schon ein recht guter Wert - auch hier gibt es einige Pauschalwerte die man zum Vergleich heranziehen kann - dabei wird immer die Heizlast je mÂ² verglichen: GebÃ¤udetyp Heizlast W/mÂ² Altbau 120 Altbau, teilgedÃ¤mmt 60-120 Neubau, WÃ¤rmeschutzV â€˜95 40-60 Neubau, EnEV 2002 30-50 PassivhÃ¤user 15 Weitere Pauschalwerte finden sich bspw. hier oder hier. Die Heizlast in W (hier: 5349 W) wird oft als grober Richtwert fÃ¼r den Heizkessel genutzt: In diesem Fall mÃ¼sste der Heizkessel also mindestens 5kW Leistung haben (gerade bei Altbauten liegen Ã¼bliche Werte (je nach GrÃ¶ÃŸe und DÃ¤mmstandard) eher bei 10kW und mehr.) ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:5:0","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"Eine Faustformel: Heizlast und HeizwÃ¤rmebedarf WÃ¤hrend die Heizlast eine Kennzahl ist, die WÃ¤rmeverluste und damit zusammenhÃ¤ngend auch die Dimensionierung der Heizung bestimmt, gibt der HeizwÃ¤rmebedarf darÃ¼ber Auskunft, wieviel Energie tatsÃ¤chlich benÃ¶tigt wird - also bspw. den Brennstoffverbrauch an Gas. Hinweis: Berechnung nach DIN V 4108-6 Der HeizwÃ¤rmebedarf wird fÃ¼r gewÃ¶hnlich nach DIN V 4108-6 Ã¼ber eine eigene Formel berechnet: HeizwÃ¤rmebedarf = [Gradtagsfaktor x (TransmissionswÃ¤rmeverlust + LÃ¼ftungswÃ¤rmeverlust)] â€“ [Nutzungsgrad interner Gewinne x (solare Gewinne + interne Gewinne)] Zu beachten ist, dass die Berechnung der WÃ¤rmeverluste in diesem Fall nicht anhand der Normauslegungstemperatur erfolgt (also bspw.-9Â°C) - sondern anhand von Durchschnittstemperaturen fÃ¼r den betrachteten Zeitraum. Es handelt sich hierbei also nochmal um eine ganz andere Systematik. HÃ¤ufig werden Heizlast und HeizwÃ¤rmebedarf Ã¼ber die sogenannte Volllaststunden mit einer Faustformel in Relation gestellt: So wird dann bspw. aus dem Gasverbrauch (=HeizwÃ¤rmebedarf) die Heizlast Ã¼berschlagen. Ãœbliche Werte fÃ¼r Volllaststunden liegen bspw. um 2.100 fÃ¼r EinfamilienhÃ¤user. In einem fiktiven Szenario mit 30.000 kWh Gasbedarf wÃ¼rde man so Ã¼berschlagen, dass etwas ein 14kW Heizkessel benÃ¶tigt wird. Und ebenso kÃ¶nnen wir damit Ã¼berschlagen, dass unser fiktives Haus von oben mit einer Heizlast von 5.349kW etwa 11.233kWh Gas einkaufen mÃ¼sste. ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:6:0","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"Eignet sich mein Altbau fÃ¼r eine WÃ¤rmepumpe? ZurÃ¼ck zur Ursprungsfrage: Wieviel Energie werde ich nach der DÃ¤mmung der obersten Geschossdecke noch benÃ¶tigen und eignet sich mein Altbau damit fÃ¼r eine WÃ¤rmepumpe? Den ersten Teil der Frage kÃ¶nnen wir bereits beantworten, durch die Heizlastberechnung kennen wir die Gesamtheizlast des Hauses und kÃ¶nnen sogar grob den HeizwÃ¤rmebedarf Ã¼berschlagen. Hier lassen sich (beispielsweise mit Excel) auch sehr gut Zahlenspiele anstellen: Wie entwickelt sich meine Heizlast wenn ichâ€¦ â€¦alle Fenster gegen dreifachverglaste austausche? =\u003e In der Berechnung der TransmissionswÃ¤rmeverluste den U-Wert aller Fenster auf 0,9W/(mÂ²*K) setzen. â€¦die oberste Geschossdecke dÃ¤mme? =\u003e In der Berechnung der TransmissionswÃ¤rmeverluste den U-Wert fÃ¼r das Dach auf 0,14W/(mÂ²*K) setzen. FÃ¼r den zweiten Teil der Frage mÃ¶chte ich noch herausfinden, ob die einzelnen HeizkÃ¶rper ausreichend groÃŸ bemessen sind. Mehr dazu in Heizlastberechnung - Teil 3: Eignen sich meine HeizkÃ¶rper fÃ¼r eine WÃ¤rmepumpe? ","date":"2022-10-29","objectID":"/posts/2022-10-29-heizlastberechnung/:7:0","tags":null,"title":"Heizlastberechnung - Teil 1: Heizlast eines Raumes und Hauses ermitteln","uri":"/posts/2022-10-29-heizlastberechnung/"},{"categories":null,"content":"GaszÃ¤hler mit ESP32 und einem QMC5883 Sensor automatisch auslesen","date":"2022-10-18","objectID":"/posts/2022-10-12-gaszaehler/","tags":null,"title":"Auf Irrwegen: GaszÃ¤hler automatisch auszulesen","uri":"/posts/2022-10-12-gaszaehler/"},{"categories":null,"content":"Smart Home und der mitleidige Blick meiner Ehefrau, wenn ich ihr mal wieder eine Automatisierung oder eine neue SensorÃ¼berwachung prÃ¤sentiere: Diese beiden Sachen gehen Hand in Hand. Das war auch wieder bei diesem Projekt der Fall: Der automatischen Ãœberwachung des GaszÃ¤hlers. ","date":"2022-10-18","objectID":"/posts/2022-10-12-gaszaehler/:0:0","tags":null,"title":"Auf Irrwegen: GaszÃ¤hler automatisch auszulesen","uri":"/posts/2022-10-12-gaszaehler/"},{"categories":null,"content":"Warum das Ganze Ich erfasse immer schon monatlich unseren Strom- und Gasverbrauch. Bisher hÃ¤ndisch: Einmal im Monat ein Foto von beiden ZÃ¤hlern - und bei Zeiten dann in Excel eingepflegt. Fertig. Im Rahmen der DÃ¤mmung unseres Hauses sowie der Heizlastberechnung wollte ich aber genauer verstehen, wie (schnell) sich der Erdgasverbauch entwickelt. Wie so oft: Das Ganze war doch komplizierter als gedacht. ","date":"2022-10-18","objectID":"/posts/2022-10-12-gaszaehler/:1:0","tags":null,"title":"Auf Irrwegen: GaszÃ¤hler automatisch auszulesen","uri":"/posts/2022-10-12-gaszaehler/"},{"categories":null,"content":"Das Grundprinzip In einigen GaszÃ¤hlern - so auch in meinem G4 RF1 - finden sich Magneten in einer Walze der Segmentanzeige. Positioniert man einen Reed-Kontakt an die richtige Position, kann dieser recht zuverlÃ¤ssig detektieren, wenn sich die Walze beispielsweise von 9 nach 0 weiter dreht, weil dann eben auch der Magnet am Kontakt vorbeigefÃ¼hrt wird. Passende Kontakte / Sensoren gibt es direkt vom Hersteller - der lÃ¤sst sich das mit 50-60â‚¬ aber auch gut vergÃ¼ten. In solchen FÃ¤llen ist â€œselber machenâ€ immer eine gute Option - und auch mindestens eine ebensogute Ausrede, den gleichen Betrag in ZubehÃ¶r und Werkzeug zur Umsetzung des Projektes zu investieren ;-). In meinem Fall ist auf dem GaszÃ¤hler Ã¼brigens vermerkt, dass 1 Impuls 0,1mÂ³ entspricht - demzufolge findet sich der Magnet auf der zweiten Walze nach dem Komma (eine volle Umdrehung der zweiten Nachkommastelle entspricht einem 1er-Inkrement der ersten Nachkommastelle). ","date":"2022-10-18","objectID":"/posts/2022-10-12-gaszaehler/:2:0","tags":null,"title":"Auf Irrwegen: GaszÃ¤hler automatisch auszulesen","uri":"/posts/2022-10-12-gaszaehler/"},{"categories":null,"content":"Versuch 1: Der Aqara TÃ¼r- und Fensterkontakt Im Netz finden sich verschiedene Berichte, dass ein Aqara TÃ¼r- und Fensterkontakt genutzt werden kann, um die Impulse zu messen. Diese LÃ¶sung wÃ¤re natÃ¼rlich besonders charmant, da ich (a) solche Kontakte ohnehin zu Hause habe, (b) die Sensoren sehr lange batteriebetrieben laufen und sie (c) sehr einfach Ã¼ber Zigbee in das bestehende Hausautomatisierungssystem eingebunden werden kÃ¶nnen. Die Idee ist einfach: Sensor aus der PlastikhÃ¼lle befreien, an die richtige Stelle auf den GaszÃ¤hler platzieren - fertigâ€¦ â€¦oder auch nicht. Aquara TÃ¼r- und Fenstersensor im Auslieferungszustand Die untere Kappe des Kontaktes lÃ¤sst sich leicht Ã¶ffnen Mit einem Messer lÃ¤sst sich auch leicht der Rest zerstÃ¶rungsfrei Ã¶ffnen (anders als im Bild gezeigt ;-)) Der Sensor wird in die entsprechende Aufnahme platziert. Das GlasrÃ¶hrchen mit dem Reed-Kontakt sollte grob oberhalb der zweiten Nachkommastelle liegen, da sich in dieser Walze der Magnet befindet Kein Signal: Die nÃ¤chsten Tage habe ich den Sensor in alle mÃ¶glichen und unmÃ¶glichen Positionen und Ausrichtungen an den GaszÃ¤hler geklebt. Ohne Erfolg Trotz aller BemÃ¼hungen - und gut 10 abenteuerlichen Klebepositionen: Der Sensor erkennt den Magneten nicht, egal wie oft dieser im Betrieb am Sensor vorÃ¼ber zieht. Das Problem ist bekannt - nicht jede Kombination aus GaszÃ¤hlerfabrikat und Aqara-Sensor scheint zu funktionieren. ","date":"2022-10-18","objectID":"/posts/2022-10-12-gaszaehler/:3:0","tags":null,"title":"Auf Irrwegen: GaszÃ¤hler automatisch auszulesen","uri":"/posts/2022-10-12-gaszaehler/"},{"categories":null,"content":"Versuch 2: IP Webcam Im nÃ¤chsten Versuch sollte ein altes Handy als IP Webcam herhalten - ehrlicherweise nur um die Zeit zu Ã¼berbrÃ¼cken, bis das ZubehÃ¶r fÃ¼r Versuch 3 eingetroffen ist. Mit einer entsprechenden App lassen sich alte Android GerÃ¤te relativ leicht als IP Webcam betreiben. Die App bietet umfangreiche Konfigurationsoptionen, letztlich benÃ¶tige ich aber nur folgende Gegebenheiten: Bild lÃ¤sst sich via URL auslesen LED-Licht lÃ¤sst sich via HTTP-API ein- und abschalten So bekomme ich nun stÃ¼ndlich einen aktuellen ZÃ¤hlerstand via Telegram-Nachricht mitgeteilt - dank LED Licht auch in der Nacht gut lesbar. Nur aus Interesse habe ich versucht, die Bilder auch automatisiert auszuwerten - zumindest via SSOCR ist es mir aber nicht gelungen. WÃ¼rde man so etwas zum Laufen bringen wollen - ein Blick auf AI on the edge wÃ¤re sicher lohnenswert: Dort werden WasserzÃ¤hler mittels ESP32 und einem neuronalem Netzwerk ausgelesen. Entsprechende Trainingsdaten inklusiveâ€¦ Ein ausgemustertes Handy Ã¼berwacht den GaszÃ¤hler Der Versuch die Bilder automatisch zu verarbeitenâ€¦ scheitert aber: SSOCR erkennt maximal 3 Ziffern Wenn es schon mit der automatischen Auswertung nicht klappt: Dieses Blockly schickt stÃ¼ndlichâ€¦ â€¦Telegram-Nachrichten mit dem aktuellen ZÃ¤hlerstand ğŸ¥´ Eine Erkenntnis ist aber: Alte Handys lassen sich doch sehr gut als IP Webcam umfunktionieren: Bewegungserkennung, Zwei-Wege-Kommunikation, LED-Licht, Video, Automatische Aufnahmenâ€¦ alles mÃ¶glich. ","date":"2022-10-18","objectID":"/posts/2022-10-12-gaszaehler/:4:0","tags":null,"title":"Auf Irrwegen: GaszÃ¤hler automatisch auszulesen","uri":"/posts/2022-10-12-gaszaehler/"},{"categories":null,"content":"Versuch 3: Kompass Nachdem klar war, dass der Sensor des Aqara-Kontaktes nicht fein genug ist, um den Magneten zu registrieren, habe ich nach Alternativen geschaut. Die Optionen: Reed-Kontakt Hall-Sensor Kompass/Magnetometer Nachdem ich mit dem Reed-Kontakt im Aqara-Sensor schon auf die Nase gefallen war, habe ich zunÃ¤chst in Richtung Hall-Sensor Ã¼berlegt. Auch hier finden sich aber unterschiedliche Berichte, welcher Sensor fÃ¼r diesen Zweck jetzt empflindlich genug ist. Zu guter Letzt habe ich aber ein Projekt gefunden, wo ein Magnetometer HMC5883 mit Raspberry Pi die Aufgabe Ã¼bernimmt. Die Ãœberlegung, dass ein Sensor, der das Erdmagnetfelt detektieren kann, auch den Magneten im GaszÃ¤hler detektieren kÃ¶nnen sollte, fand ich plausibel. Der Sensor QMC5883 wird mit Stifleisten versehen Nachdem ich den ersten Sensor beim AnlÃ¶ten der Stiftleisten frittiert hatte und die Ersatzlieferung eingetroffen war, konnte das Projekt umgesetzt werden. Material: ESP32 Microprozessor QMC5833 Kompass Breadboard Jumperkabel Werkzeug: LÃ¶tkolben Die Idee: Der ESP32 wÃ¤hlt sich ins Wifi ein und Ã¼bermittelt die Impulse via MQTT an meine Iobroker-Instanz, wo bei jedem Impuls der ZÃ¤hlerstand um 0,1mÂ³ erhÃ¶ht wird. Springt die zweite Nachkommastelle von 6 auf 7 (rechts im Video), erkennt der Kompass einen starken Ausschlag (links im Video). So lassen sich wiederum Inkremente der ersten Nachkommastelle detektieren Nachdem die grundlegende Funktionsweise sichergestellt wurde (etwas Malerkrepp hÃ¤lt den Sensor an Ort und Stelle), habe ich noch einen kleinen Halter 3d-gedruckt, dessen Modell auf Thingiverse abrufbar ist: https://www.thingiverse.com/thing:5581975 Mittels eines 3d-gedruckten Halters wird der Sensor genau Ã¼ber die zweite Nachkommastelle der Segmentanzeige positioniert. Das Modell in der Rundumansicht Das Sketch fÃ¼r das Projekt ist relativ simpel: Im Wesentlichen werden 10 Sekunden lang Messwerte des Magnetfeldes gesammelt. Da der Sensor relativ empfindlich ist und die Werte bei Erkennung des Magneten Ã¼berlaufen kÃ¶nnen, wird die SignalstÃ¤rke auf 4000 beschrÃ¤nkt. Ist der Durchschnittswert der letzten 10 Sekunden \u003e 2000, wird das high Flag gesetzt. Ist der Durchschnittswert der letzten 10 Sekunden kleiner 300 und das High-Flag ist gesetzt, wurde eine Rotation erkannt, das high Flag wird entfernt und das Ganze via MQTT publiziert. Die Erkennung basiert also auf Anstieg und anschlieÃŸendem Fall der gemessenen FeldstÃ¤rke. Dieses Vorgehen erscheint mir relativ robust, weil es wenig FehlauslÃ¶sungen gibt - selbst wenn der Magnet lÃ¤ngere Zeit direkt unter dem Sensor stehen bleibt. Das wÃ¤re anders, wenn der Trigger fÃ¼r high und der Trigger fÃ¼r low identisch wÃ¤ren - bei ungÃ¼nstiger Positionierung des Magneten kÃ¶nnte der Sensor zwischen den AuslÃ¶sewerten hin- und herspringen. void loop() { loopMqtt(); sVector_t mag = compass.readRaw(); // calculate field strength \u0026 store for average calculation fieldStrength = sqrt(mag.XAxis ^ 2 + mag.YAxis ^ 2 + mag.ZAxis ^ 2); avg = avgFieldStrength.reading(fieldStrength \u003e 4000 ? 4000 : fieldStrength); Serial.print(\"Arrow: \"); Serial.println(fieldStrength); // every 10 seconds: evaluate if signall falls from high (magnet detected) to low (no magnet) if ((unsigned long)(millis() - timer) \u003e 10000) { if (avg \u003c 300 and isHigh) { isHigh = false; client.publish(\"mqtt.0.gas_meter.tick\", itoa(millis(), charBuf, 10)); } if (avg \u003e 2000) { isHigh = true; } timer = millis(); } delay(500); } Das komplette Skript findet sich auf Github. ","date":"2022-10-18","objectID":"/posts/2022-10-12-gaszaehler/:5:0","tags":null,"title":"Auf Irrwegen: GaszÃ¤hler automatisch auszulesen","uri":"/posts/2022-10-12-gaszaehler/"},{"categories":null,"content":"Fazit Insgesamt bin ich ziemlich zufrieden mit dem Ergebnis: Nach etwas Feinjustierung gibt es auch Ã¼ber mehrere Tage keine Abweichung, der erfasste ZÃ¤hlerstand entspricht (bis auf die erste Nachkommastelle) genau dem tatsÃ¤chlichen ZÃ¤hlerstand. Und via Iobroker/Jarvis kann ich den Tagesverbauch auch sehr leicht graphisch visualisieren lassen. Nach 24 Stunden hat der Sensor alle 16 Ticks korrekt erfasst ","date":"2022-10-18","objectID":"/posts/2022-10-12-gaszaehler/:6:0","tags":null,"title":"Auf Irrwegen: GaszÃ¤hler automatisch auszulesen","uri":"/posts/2022-10-12-gaszaehler/"},{"categories":null,"content":" Moin ğŸ‘‹, Iâ€™m Daniel and Iâ€™ve been involved with computer stuff for 25 years and more. This page serves to record some of these things in the hope that they are useful; and even more in the hope that I can quickly find them again when I need them. More information is available at the usual places: ","date":"2022-10-09","objectID":"/about/:0:0","tags":null,"title":"About","uri":"/about/"},{"categories":null,"content":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Endlich ist es soweit: 9,75kwp Photovoltaik schimmern im Sonnenlicht auf dem Dach - mit Wechselrichter und Speicher von Sungrow. Die nÃ¼tzliche App des Anbieters mit all ihren AnalysemÃ¶glichkeiten kann aber nur kurz den Wunsch nach einem direkteren Zugriff auf die Daten zwecks Einbindung in die Hausautomatisierung stillen. Nach einigem Experimentieren funktioniert der Zugriff nun - die Erfahrung mÃ¶chte ich teilen. ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:0:0","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Kurze EinfÃ¼hrung Ãœber die Modbus-Schnittstelle des Wechselrichters kÃ¶nnen verschiedene Daten der Photovoltaik-Anlage ermittelt werden, wie beispielsweise: Ertrag der Anlage (Momentan und Tagessumme) Eigenbedarf (Momentan und Tagessumme) Einspeisung/Bezug ins/aus dem Netz (Momentan und Tagessumme) Lade- und Entladestrom der Batterie (Momentan und Tagessumme) Verschiedene Monatswerte Spannung und Strom der Strings Ladestand der Anlage Aktuell lese ich etwa 100 Werte aus - davon werden natÃ¼rlich nicht alle benÃ¶tigt. GrundsÃ¤tzlich ist der Modbus-Standard unabhÃ¤ngig von der eingesetzten HausautomatisierungslÃ¶sung - ich nutze in meinem Fall Iobroker, auch mit anderen Tools und Skripten lassen sich die Daten bei Bedarf verarbeiten. ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:1:0","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Einrichtung ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:2:0","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Verbindung Beim Standard â€œModbus Ã¼ber TCPâ€ kann das Modbus-GerÃ¤t (hier: der Wechselrichter) einfach Ã¼ber das Heimnetz verbunden werden. Sungrow bietet fÃ¼r die hier beschriebenen Wechselrichter unterschiedliche Arten der Verbindung an: LAN-Verbindung direkt am Wechselrichter LAN-Verbindung via WiNet-S Dongle Wifi-Verbindung via WiNet-S Dongle GemÃ¤ÃŸ verschiedenen Foren-Berichten, die auf den Sungrow-Support verweisen, sowie meiner eigenen Erfahrung ist eine Modbus-Verbindung NUR via LAN-Anschluss direkt am Wechselrichter mÃ¶glich. Der Wechselrichter wird also direkt via LAN-Kabel mit dem Router/Switch im Heimnetz verbunden. ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:2:1","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Installation in IoBroker Installiere den Modbus-Adapter in IoBroker indem ihr im Reiter Instanzen nach Modbus sucht und den Adapter installiert. ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:2:2","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Verbindungseinstellungen Unter Instanzen-\u003eModbus kann der Adapter nun konfiguriert werden. Im Tab Allgemein werden folgende Daten hinterlegt: Partner IP-Adresse: IP eures Sungrow WRs Port: 502 GerÃ¤te ID: 1, ggf. abweichend Typ: Master Aliases benutzen: Deaktivieren / Nein ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:2:3","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Eingangsregister Die vom Wechselrichter bereitgestellten Informationen mÃ¼ssen aus sog. Registern ausgelesen werden. FÃ¼r die Anbindung mÃ¼ssen neben Adresse und Datentyp auch LÃ¤nge und Faktor hinterlegt sein, idealerweise auch Einheit und eine kurze Beschreibung zur spÃ¤teren Identifikation. Da das hÃ¤ndische Hinterlegen der Register nicht praktikabel ist, kÃ¶nnen diese auch importiert werden. Ãœber den Doppelpfeil (zweites Icon von links auf der linken Seite) kÃ¶nnen die Register als TSV (Tab seperated Value) hinterlegt werden. Ein TSV mit den Registern ist hier zu finden. Dort auf â€œRawâ€ klicken um zum TSV zu gelangen. Nach dem Einrichten kann die Konfiguration gespeichert werden. ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:2:4","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"PrÃ¼fen Im Navigationsbaum kann nun Objekte geÃ¶ffnet werden. Unter modbus.0.inputRegisters sollten sich nun die Datenpunkte finden. Hier sollte recht schnell ersichtlich werden, ob die Verbindung funktioniert, bspw. anhand der Register 13001 (PV Erzeugung heute) oder 13007 (Wirkleistung). Sind hier keine oder falsche Werte zu sehen, gibt es Probleme mit der Verbindung. Unter Protokoll in der Navigation finden sich weitere Informationen dazu. ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:2:5","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Fehlerbehandlung Die Modbus-Verbindung des Wechselrichters erscheint teilweise etwas fragil. Im Iobroker-Forum gibt es viele Berichte von Verbindungsproblemen aller Art. Im Folgenden ein paar Tipps dazu: ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:3:0","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Fehleranalyse mit modbus-cli Um zu prÃ¼fen ob zumindest die Verbindung zum Wechselrichter funktioniert, kÃ¶nnen Modbus Tools wie bspw. Modbus-CLI genutzt werden. Ein einfaches Beispiel: daniel@laptop ~ % modbus 192.168.1.123:502 -s 1 4999 192.168.1.123: Durch deine IP ersetzen 502: Modbus Port am WR, idR 502 -s 1: Eure ClientID, idR 1 oder 100 4999: Das Register das ausgelesen werden soll Das Ergebnis sollte nun wie folgt aussehen Parsed 0 registers definitions from 1 files 4999: 2022 0x7e6 Interpretation der RÃ¼ckgabe: 4999: Das ausgelesene Register 2022: Der Wert in dezimal. Hier: Das aktuelle Jahr 2022 0x7e6: Der Wer in hexadezimal. Anstatt des Register 4999 kÃ¶nnen natÃ¼rlich auch beliebige andere Register ausgelesen werden. Aber Achtung: Die Erfahrung zeigt, dass es gerade mit diesem Tool nicht immer leicht ist, die richtigen Datentypen zu hinterlegen - selbst bei korrekter Verbindung kommen so fehlerhafte RÃ¼ckgaben zu stande. Meine Empfehlung daher: Nutzt das Tool eher um sicherzustellen, dass die Verbindung funktioniert und haltet euch nicht damit auf, andere Werte auslesen zu wollen. ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:3:1","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Richtiges GerÃ¤t finden Antwortet der Einrichtungsassistent ist die IP-Adresse falsch In der Regel werdet ihr den Wechselrichter via WLAN-Stick mit dem Internet verbunden haben und zusÃ¤tzlich Ã¼ber den direkten Anschluss die Modbus-Verbindung vornehmen. Damit hat der Wechselrichter zwei IPs - einmal via WLAN und einmal via LAN. Ãœber beide IPs ist Modbus auch (theoretisch) erreichbar - ihr mÃ¼sst nun sicherstellen, dass ihr Modbus Ã¼ber den LAN-Anschluss konfiguriert. Die korrekte IP kann bspw. Ã¼ber Fritzbox gefunden werden: Dort lassen sich unter Heimnetz-\u003eNetzwerk alle Netzwerk-GerÃ¤te finden. Die Sungrow-GerÃ¤te haben in der Regel eine Mac-Adresse, die mit â€œACâ€ beginnt (Mac-Adressen ggf. Ã¼ber den mit â€œ+/-â€ beschrifteten Button oben rechts anzeigen lassen). Weiterhin scheinen sich die GerÃ¤te als espressif-sungrow oder espressif zu identifizieren. Alternativ kann auch das Netzwerk recht einfach mit nmapnach GerÃ¤ten durchsucht werden, die auf Port 502 (Modbus) lauschen: daniel@rechner ~ % nmap -p502 --open 192.168.178.1/24 Starting Nmap 7.92 ( https://nmap.org ) at 2022-10-10 13:33 CEST Nmap scan report for espressif.fritz.box (192.168.178.85) Host is up (0.13s latency). PORT STATE SERVICE 502/tcp open mbap Nmap scan report for espressif-sungrow.fritz.box (192.168.178.89) Host is up (0.22s latency). PORT STATE SERVICE 502/tcp open mbap Nmap done: 256 IP addresses (24 hosts up) scanned in 49.12 seconds daniel@rechner ~ % Auch hier fÃ¶rdert der Scan zwei IPs zu Tage. Welche die richtige ist, offenbart ein einfacher Test: Ruft ihr die IP-Adresse im Browser auf und euch wird ein Setup-Assistent angezeigt, seit ihr mit dem WLAN-Stick verbunden - die IP ist also nicht die richtige fÃ¼r die Modbus-Verbindung. ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:3:2","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Verbindungsfehler GefÃ¼rchtet sind Modbus-Fehler wie error: modbus.0 (21335) Client in error state. warn: modbus.0 (21335) Poll error count: 1 code: {\"err\":\"timeout\",\"timeout\":5000} oder in meinem Fall auch gerne On error: {\"errno\":-104,\"code\":\"ECONNRESET\",\"syscall\":\"read\"} im Iobroker-Protokoll. Eine genaue Ursache scheint nicht immer ersichtlich, empfohlen werden folgende MaÃŸnahmen: Penible(!) PrÃ¼fung der Konfiguration Sicherstellen dass die Read- und Write-Register keine Fehler enthalten (ggf. alle bis auf ein Register probeweise entfernen) Neuinstallation des Modbus-Adapters (Konfiguration, insb. Register vorher sichern / kopieren) Neustart Wechselrichter Aktualisierung Firmware Wechselrichter Umstecken das Kabels in anderen Switch-Port (in meinem Fall Zyxel, ggf. haben die vielen MODBUS Anfragen ein Limit gerissen?) =\u003e Hat reproduzierbar und mit sofortiger Wirkung zu einer Wiederherstellung der Verbindung gefÃ¼hrt ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:3:3","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Reduzierung von Abfrageintervallen und Registeranzahl Gerade wenn die Verbindung nach einigen Tagen abbricht und durch Wahl eines anderen LAN-Ports am Router/Switch wiederhergestellt werden kann, sollte geprÃ¼ft werden, ob nicht ggf. eine zu groÃŸe Zahl an Registern in zu kurzer Zeit gelesen wird. MÃ¶gliche Abhilfe: Reduzierte Anzahl an Registern (Beispiel Gist / RAW) Reduzierte Anzahl an Lese- und Schreiboperationen im Modbus-Adapter durch Anpassung der Konfigirationen Leseinterval, Wartezeit ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:3:4","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Jetzt wird ausgelesen! Ist der WR korrekt in IoBroker eignebunden, ist die Freude zu nÃ¤chst groÃŸ. Register wie 5016 Total DC Power 13007 Load power 13009 Export power 13021 Battery power versprechen schnelle Erfolge. Allerdings stehen nicht alle Werte, die in der App ersichtlich sind, auch direkt zum Auslesen zur VerfÃ¼gung: Im obigen Bild ist bspw. ersichtlich, dass die Last des Hauses mit 83 W aus der PV-Anlage sowie 133 W aus dem Akku bedient wird. Weiterhin speist der Akku mit 2,003 kW ins Netz ein (es handelt sich hierbei um eine Kalibrierung des AKkus, ansonsten tritt der Fall natÃ¼rlich nicht auf). Mit den Informationen in den o.g. Registern ist lediglich ersichtlich, dass 83 W PV-Strom erzeugt werden, die Batterie eine Last von 2,136 kW hat und ins Netz 2,003 kW eingespeist werden und im Haus eine Last von 216 W anfÃ¤llt. Wie die StrÃ¶me sich genau verteilen ist Ã¼ber die Register nicht ersichtlich. Um diese Information zu ermitteln werden die sog. â€œRunning Statesâ€ benÃ¶tigt. ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:4:0","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"13000_Running_State Im Register 13000 â€œRunning Stateâ€ findet sich der aktuelle Betriebsstatus des Wechselrichters. Hierbei handelt es sich um eine Bitmaske die folgende Informationen kodiert: Bit0 PV power Bit0 == 0 No power generated from PV Bit0 == 1 Power generated from PV Bit1 Battery charging Bit1 == 0 Not charging Bit1 == 1 Charging Bit2 Battery discharging Bit2 == 0 Not discharging Bit2 == 1 Discharging Bit3 Positive load power Bit3 == 0 Load is reactive Bit3 == 1 Load is active Bit4 Feed-in power Bit4 == 0 No power feed-in the grid Bit4 == 1 Power feed-in the grid Bit5 Import Power from grid Bit5 == 0 No power imported from the grid Bit5 == 1 Importing power from grid Bit6 Reserved Bit6 Bit7 (Refitting System) Negative load power Bit7 == 0 No power generated from â€œLoadâ€ Bit7== 1 Power generated from â€œLoadâ€ Mit dieser Information ist es bspw. erst mÃ¶glich direkt zu ermitteln, ob die Batterie entlÃ¤dt (Bit 3 ist 1) oder lÃ¤dt (Bit 2 ist 1). Gleichzeitig kann hiermit ermittelt werden, ob bspw. gerade wirklich ins Netz eingespeist wird (Bit 4 ist 1) oder ob die in Register 13009 Export power verzeichnet 3 W nur ein Overshoot aus der Batterie sind (Bit 4 ist 0). Da die Bitmaske in IoBroker als Dezimalwert dargestellt wird (bspw. 25) kursieren einige Beispiele in denen auf diese Werte geprÃ¼ft wird. Korrekt ist es allerdings so nicht. Folgende JS Funktion kann in Blockly eingebunden werden um zu prÃ¼fen, ob ein bestimmtes Bit gesetzt ist: function decToBit(dec, bitPosition) { return (dec \u0026 (1 \u003c\u003c bitPosition)) === 0 ? false : true; } Nun kann wie folgt geprÃ¼ft werden, ob die Batterie lÃ¤dt oder entlÃ¤dt: $runningState = getState(\"modbus.0.inputRegisters.13000_Running_State\").val; $batteryCharging = decToBit($runningState, 1); $batteryDischarging = decToBit($runningState, 2); ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:4:1","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Wohin flieÃŸt der Strom? Um mit dieser neuen Information tatsÃ¤chlich zu bestimmen, von wo nach wo der Strom flieÃŸt, sind weitere Ãœberlegungen nÃ¶tig. Hierzu lÃ¤sst sich folgende Priorisierung aufstellen: PV Strom speist zunÃ¤chst die Hauslast dann die Batterie Rest wird ins Netz eingespeist Strom aus der Batterie speist zunÃ¤chst die Hauslast dann das Netz (bspw. Kalibrierung) Strom aus dem Netz speist zunÃ¤chst die Hauslast dann die Batterie (bspw. Kalibrierung) Folgendes Javascript Ã¼bersetzt das Ganze in Code fÃ¼r IoBroker. function decToBit(dec, bitPosition) { return (dec \u0026 (1 \u003c\u003c bitPosition)) === 0 ? false : true; } // Creates a state if it does not exist yet function createStateIfNotExists(state, name) { if ( !existsState(state )) { createState(state, 0, false, {name: name, type: \"number\", role: 'value'}, function () {}); } } // Create states createStateIfNotExists(\"0_userdata.0.PV.PvToLoad\", \"Power from PV to load\"); createStateIfNotExists(\"0_userdata.0.PV.PvToBat\", \"Power from PV to bat\"); createStateIfNotExists(\"0_userdata.0.PV.PvToGrid\", \"Power from PV to grid\"); createStateIfNotExists(\"0_userdata.0.PV.BatToLoad\", \"Power from Bat to load\"); createStateIfNotExists(\"0_userdata.0.PV.BatToGrid\", \"Power from Bat to grid\"); createStateIfNotExists(\"0_userdata.0.PV.GridToLoad\", \"Power from grid to load\"); createStateIfNotExists(\"0_userdata.0.PV.GridToBat\", \"Power from Gridto battery\"); // Decode running state flags $powerGeneratedFromPV = decToBit(dec, 0); $batteryCharging = decToBit(dec, 1); $batteryDischarging = decToBit(dec, 2); $loadActive = decToBit(dec, 3); $powerFeedIntoGrid = decToBit(dec, 4); $powerImportFromGrid = decToBit(dec, 5); $powerGeneratedFromLoad = decToBit(dec, 7); // Save running state more speaking fields setState(\"0_userdata.0.PV.PowerGeneratedFromPV\", $powerGeneratedFromPV, true); setState(\"0_userdata.0.PV.BatteryCharging\", $batteryCharging, true); setState(\"0_userdata.0.PV.BatteryDischarging\", $batteryDischarging, true); setState(\"0_userdata.0.PV.LoadActive\", $loadActive, true); setState(\"0_userdata.0.PV.PowerFeedIntoGrid\", $powerFeedIntoGrid, true); setState(\"0_userdata.0.PV.PowerImportFromGrid\", $powerImportFromGrid, true); setState(\"0_userdata.0.PV.PowerGeneratedFromLoad\", $powerGeneratedFromLoad, true); // Read current power levels of bat, pv, load and grid $load = getState(\"modbus.0.inputRegisters.13007_Load_power_\").val; $grid = getState(\"modbus.0.inputRegisters.13009_Export_power\").val; $pv = getState(\"modbus.0.inputRegisters.5016_Total_DC_Power\").val; getState(\"modbus.0.inputRegisters.13021_Battery_power_\").val; // Calculate PV $pvToBat = 0; $pvToLoad = 0; $pvToGrid = 0; $loadRemaining = $load; if ($powerGeneratedFromPV) { $remaining = $pv; if ($remaining \u003e $loadRemaining) { $pvToLoad = $loadRemaining; $remaining -= $load; $loadRemaining = 0; } else { $pvToLoad = $remaining; $loadRemaining = $load - $remaining; $remaining = 0; } if ($batteryCharging) { if ($remaining \u003e $battery) { $pvToBat = $battery; $remaining -= $battery; } else { $pvToBat = $remaining; $remaining = 0; } } if ($grid \u003e 0) { $pvToGrid = $remaining; } } setState(\"0_userdata.0.PV.PvToLoad\", $pvToLoad); setState(\"0_userdata.0.PV.PvToBat\", $pvToBat); setState(\"0_userdata.0.PV.PvToGrid\", $pvToGrid); // Calculate Bat $batToLoad = 0; $batToGrid = 0; if ($batteryDischarging) { $remaining = $battery; if ($remaining \u003e $loadRemaining) { $batToLoad = $loadRemaining; $remaining -= $loadRemaining; $loadRemaining = 0; } else { $batToLoad = $remaining; $loadRemaining -= $remaining; $remaining = 0; } if ($powerFeedIntoGrid) { $batToGrid = $remaining; } } setState(\"0_userdata.0.PV.BatToLoad\", $batToLoad); setState(\"0_userdata.0.PV.BatToGrid\", $batToGrid); // Calculate grid $gridToBat = 0; $gridToLoad = 0; if ($grid \u003c 0) { $remaining = Math.abs($grid); if ($remaining \u003e $loadRemaining) { $gridToLoad = $loadRemaining; $remaining -= $loadRemaining; $loadRemaining = 0; } else { $gridToLoad = $remaining; $loadRemaining -= $remaining; $remaining = 0; } if (","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:4:2","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Regelverluste Auch wenn Ã¼ber die Running States sehr klar ersichtlich ist, ob gerade ins Netz eingespeist oder der Akku geladen wird: Regelverluste (also bspw. kurzzeitge Einspeisungen aus dem Akku ins Netz, die entstehen weil die Last im Haus schneller abgefallen ist als der Akku abregeln konnte) werden Ã¼ber die Running States nicht immer korrekt wiedergegeben. Insofern kann es sinnvoll sein davon auszugehen, dass die 30W, die vom Akku abgehen und nicht mehr zur Hauslast passen, eben doch ins Netz gehen - selbst wenn Bit 4 (power feed in) nicht gesetzt ist. ","date":"2022-10-09","objectID":"/posts/2022-10-09-sungrow/:4:3","tags":null,"title":"Sungrow Wechselrichter mit Modbus in Iobroker in Echtzeit auslesen","uri":"/posts/2022-10-09-sungrow/"},{"categories":null,"content":"Datenschutz Diese DatenschutzerklÃ¤rung soll die Nutzer der Webseite Ã¼ber Art, Umfang und Zweck der erhobenen personenbezogenen Daten informieren. ","date":"0001-01-01","objectID":"/data-privacy/:1:0","tags":null,"title":"","uri":"/data-privacy/"},{"categories":null,"content":"Zugriffsdaten Beim Aufrufen von Seiten auf dieser Webseite werden automatisch Zugriffsdaten protokolliert (sog. Server-Logfiles). Dazu gehÃ¶ren: Besuchte Seiten Zeitpunkt des Zugriffs GrÃ¶ÃŸe der gesendeten Daten Quelle des Zugriffs (sog. Referer) Genutzter Browser Genutztes Betriebsystem IP Die so erhobenen Daten werden nach 7 Tage gelÃ¶scht. Die Erhebung dieser Daten ist unter anderem aus SicherheitsgrÃ¼nden erforderlich um beispielsweise Angriffe auf die Webseite analysieren zu kÃ¶nnen. ","date":"0001-01-01","objectID":"/data-privacy/:1:1","tags":null,"title":"","uri":"/data-privacy/"},{"categories":null,"content":"Trackboxx Zur Reichweitenmessung der Seite wird der Service â€œTrackboxxâ€ genutzt. Durch die Trackboxx-Dienste werden Daten, Eigenschaften und AktivitÃ¤ten von Nutzern im Hinblick auf die Nutzung von dieser Seite erfasst, verarbeitet oder gespeichert. Art der personenbezogenen Daten (gem. Art. 4 Nr. 1 DS-GVO): IP-Adresse (verschlÃ¼sselt/gekÃ¼rzt, fÃ¼r max. 24 Stunden) Pseudonyme Nutzer-ID (verschlÃ¼sselter Wert, der SchlÃ¼ssel wird alle 24 Stunden verÃ¤ndert) Browserdaten: Art und Version des Browsers Art des EndgerÃ¤tes (Desktop, Tablet, Mobil) referenzierende Webseite FlÃ¼chtige Daten wie Herkunftsland, BildschirmauflÃ¶sung, Zugriffszeitpunkt oder Zeitzone ","date":"0001-01-01","objectID":"/data-privacy/:1:2","tags":null,"title":"","uri":"/data-privacy/"},{"categories":null,"content":"Kontakt bei Fragen Bei Fragen zum Datenschutz auf dieser Seite wenden Sie sich gerne an mich: fragen-zum-datenschutz@post.noegelmail.de ","date":"0001-01-01","objectID":"/data-privacy/:1:3","tags":null,"title":"","uri":"/data-privacy/"},{"categories":null,"content":"Impressum ","date":"0001-01-01","objectID":"/imprint/:0:0","tags":null,"title":"","uri":"/imprint/"}]