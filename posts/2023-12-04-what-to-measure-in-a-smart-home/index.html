<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>What to measure in a smart home - noegel.io</title><link rel=stylesheet href=/custom.css><style>.book_cover img{_height:300px!important}.book-gallery figcaption{text-align:left}.modal{display:none;position:fixed;z-index:1000;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.9)}.modal-content{margin:auto;display:block;width:80%;max-width:700px}#caption{margin:auto;display:block;width:80%;max-width:700px;text-align:center;color:#ccc;padding:10px 0;height:150px}.modal-content,#caption{animation-name:zoom;animation-duration:.6s}@keyframes zoom{from{transform:scale(0)}to{transform:scale(1)}}.closeModal{z-index:-99999;position:absolute;top:15px;right:35px;color:#f1f1f1;font-size:40px;font-weight:700;transition:.3s}.closeModal:hover,.closeModal:focus{color:#bbb;text-decoration:none;cursor:pointer}@media only screen and (max-width:700px){.modal-content{width:100%}}</style><meta name=Description content><meta property="og:title" content="What to measure in a smart home"><meta property="og:description" content="Measuring data in your home can become somewhat addicting: How much energy did my solar plant generate? How much gas did my heating system use? How is the humidity in my rooms?
Here I want to give an overview of the things I am currently measuring in my home."><meta property="og:type" content="article"><meta property="og:url" content="https://noegel.io/posts/2023-12-04-what-to-measure-in-a-smart-home/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-04T22:02:00+02:00"><meta property="article:modified_time" content="2023-12-04T22:02:00+02:00"><meta property="og:site_name" content="Daniel Nögel"><meta name=twitter:card content="summary"><meta name=twitter:title content="What to measure in a smart home"><meta name=twitter:description content="Measuring data in your home can become somewhat addicting: How much energy did my solar plant generate? How much gas did my heating system use? How is the humidity in my rooms?
Here I want to give an overview of the things I am currently measuring in my home."><meta name=application-name content="Daniel Nögel"><meta name=apple-mobile-web-app-title content="Daniel Nögel"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://noegel.io/posts/2023-12-04-what-to-measure-in-a-smart-home/><link rel=prev href=https://noegel.io/posts/2023-11-22-climate-control/><link rel=next href=https://noegel.io/posts/2024-10-10-heizkoerperverstaerker/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"What to measure in a smart home","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/noegel.io\/posts\/2023-12-04-what-to-measure-in-a-smart-home\/"},"genre":"posts","wordcount":947,"url":"https:\/\/noegel.io\/posts\/2023-12-04-what-to-measure-in-a-smart-home\/","datePublished":"2023-12-04T22:02:00+02:00","dateModified":"2023-12-04T22:02:00+02:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Daniel"},"description":""}</script><script>(function(e,t,n,s,o){s[o]=s[o]||function(){(s[o].q=s[o].q||[]).push(arguments)};var i,a=e.getElementsByTagName(t)[0];if(e.getElementById(n))return;i=e.createElement(t),i.id=n,i.onload=function(){},i.async=!0,i.src="https://cdn.trackboxx.info/p/tracker.js",a.parentNode.insertBefore(i,a)})(document,"script","trackboxx-script",window,"trackboxx"),trackboxx("set","siteId","TB-60422104"),trackboxx("trackPageview")</script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]}}</script><script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></head><body data-header-desktop=fixed data-header-mobile=auto><div id=myModal class=modal><span class=closeModal>&#215;</span>
<img class=modal-content id=img01><div id=caption></div></div><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=noegel.io>noegel.io</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/about/>About </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=noegel.io>noegel.io</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/about/ title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">What to measure in a smart home</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Daniel</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2023-12-04>2023-12-04</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;947 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;5 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#how-do-i-measure>How do I measure</a></li><li><a href=#solar>Solar</a></li><li><a href=#heating>Heating</a><ul><li><a href=#gas-consumption>Gas consumption</a></li><li><a href=#flow-and-return>Flow and Return</a></li><li><a href=#valves>Valves</a></li><li><a href=#not-fully-automated-yet>Not fully automated (yet)…</a></li></ul></li><li><a href=#rooms>Rooms</a><ul><li><a href=#temperature--humidity>Temperature & Humidity</a></li></ul></li><li><a href=#other>Other</a><ul><li><a href=#washing-machine>Washing machine</a></li><li><a href=#garage>Garage</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>Measuring data in your home can become somewhat addicting: How much energy did my solar plant generate? How much gas did my heating system use? How is the humidity in my rooms?</p><p>Here I want to give an overview of the things I am currently measuring in my home.</p><h2 id=how-do-i-measure>How do I measure</h2><p>For most historicized data I use Grafana in combination with InfluxDB. Most data is dispatched through my Iobroker instance to InfluxDB - and collected via MQTT (ESP projects such as gas meter, flow and return temperature), Modbus (Sungrow inverter) or Zigbee (Aqara sensors). Some proprietary devices such as the smart plug with energy meter or the garage door opener are connected via dedicated extensions.</p><h2 id=solar>Solar</h2><p>For owners of solar power plants some kind of data and analyzing is part of the fun: Most inverters offer some kind of app driven analytics. In my case, however, I wanted to have an overview that is more &ldquo;real-time&rdquo;, so <a href=/posts/2022-10-09-sungrow rel>I connected my inverter via Modbus with my Iobroker<sup style=font-size:8pt>(german)</sup></a> instance. The visual representation still leaves room for improvement - but the data is almost real-time.</p><div class=gallery-grid><figure style=font-size:small;margin:auto><img src=/images/what-to-measure/solar.png><figcaption>Real time overview of power generation and consumption.</figcaption></figure></div><p>Another typical analysis is the following chart: It shows</p><ul><li>generated energy</li><li>energy needed</li><li>battery charge/discharge</li><li>export/import from/to grid</li><li>solar forecast</li></ul><p>By using negative values for grid exports and battery charge the overall chart still is kind-of-readable and gives a good indication at which times a lot of energy was needed and when e.g. the battery was empty or energy was bought from the grid. And the solar forecast gives you a reference a model on top to understand if you had a good or bad solar day.</p><div class=gallery-grid><figure style=font-size:small;margin:auto><img src=/images/what-to-measure/daily_generation.png><figcaption>Holistic overview of a solar day</figcaption></figure></div><h2 id=heating>Heating</h2><p>Alongside electricity, gas for heating is an important cost item to keep an eye on. I have mainly three data points I control.</p><h3 id=gas-consumption>Gas consumption</h3><p>I am <a href=/posts/2022-10-12-gaszaehler rel>reading my gas consumption with a simple compass sensor<sup style=font-size:8pt>(german)</sup></a>. This way I am easily able to control my daily gas consumption as well as the monthly data. Over time, I added more and more details to the chart - currently it shows the following data:</p><ul><li>daily gas consumption (grey bars)</li><li>10-day-rolling-average gas consumption (pink)</li><li>daily temperature average (red)</li><li>number of heating cycles (black line)</li></ul><div class=gallery-grid><figure style=font-size:small;margin:auto><img src=/images/what-to-measure/gas.png><figcaption>Gas consumption with related data such as heating cycles, temperature and rolling average</figcaption></figure></div><h3 id=flow-and-return>Flow and Return</h3><p>Another information I was interested in, is the <strong>flow and return temperatures</strong> of my heating system: The whole heating system was originally layed out for flow temperatures of 75°C and above. For the heat pump, I eventually want to install, it is relevant to reduce the flow temperature as much as possible and check if you can still heat the house with it.</p><p>Furthermore, the <strong>number of heating cycles</strong> (i.e. how often the gas heater needs to start) is interesting to get an impression how efficient the overall system runs: If the gas heater has a lot of heating cycles it most likely does not run very efficient and the heat pump can be layed out undersized in comparison to the gas heater. The heating cycles are basically measured by counting how many times the flow temperature sunk below a given value (e.g. 35°C) and then went up to over 45°C again.</p><div class=gallery-grid><figure style=font-size:small;margin:auto><img src=/images/what-to-measure/flow_return.png><figcaption>Flow and return temperatures as well as cumulative daily gas consumption.</figcaption></figure></div><p>In the above case I observed that the flow temperature usually does not exceed 50°C - which indicated that running a heat pump might very well be possible as generally it is said that heat pumps can be run quite efficiently if no more than 55°C flow temperature is needed.</p><h3 id=valves>Valves</h3><p>Another analysis I like quite a lot is the valve position of my smart thermostats: They show a percentage value which indicates how far open the valve of my radiators were at any given time. This way I have a rough indication in which room the heating energy was needed and when. This again helps me to understand in which rooms the size of the radiators is over- or undersized or just right. A constantly 100% opened valve could be an indication that a radiator is undersized - and most likely needs to be replaced if the flow temperature is decreased further.</p><div class=gallery-grid><figure style=font-size:small;margin:auto><img src=/images/what-to-measure/valve_positions.png><figcaption>Valve positions during a day: You can see how from 05:30am the house is heated (i.e. valves are opening) and how at 08:00pm the last valves close for night setback</figcaption></figure></div><h3 id=not-fully-automated-yet>Not fully automated (yet)…</h3><p>…is my <a href=/posts/2023-01-06-heizwerte/ rel>regression model for gas consumption<sup style=font-size:8pt>(german)</sup></a>. It is some sort of reference model what gas consumption can be expected in a given month based on the average temperature.</p><h2 id=rooms>Rooms</h2><h3 id=temperature--humidity>Temperature & Humidity</h3><p>A classic overview is the temperature and humidity chart. Especially in insulated older houses it is important to keep an eye on the humidity - and for ventilation it is relevant to compare outdoor and indoor temperatures and humidity.</p><div class=gallery-grid><figure style=font-size:small;margin:auto><img src=/images/what-to-measure/temp_humidi.png><figcaption>Overview of temperature and humidity</figcaption></figure></div><p>Obviously it would be too cumbersome to check and calculate the temperatures and humidity for every ventilation of the rooms - so there is the lamp below in place - that automatically turns <span style=color:red;font-weight:700>red</span> if ventilation is not recommended and <span style=color:green;font-weight:700>green</span> if ventilation is recommended.</p><div class=gallery-grid><figure style=font-size:small;margin:auto;width:300px><img src=/images/what-to-measure/lamp.png><figcaption>Lamp indicating if venting is recommended</figcaption></figure></div><p>If ventilation is recommended or not is calculated with the following &ldquo;rule-of-thumb&rdquo; formula:</p><p>\[
\text{Humidity}_{\text{Outdoor}} - 3 \times (\text{Temp}_{\text{Indoor}} - \text{Temp}_{\text{Outdoor}}) &lt; \text{Humidity}_{\text{Indoor}}
\]</p><h2 id=other>Other</h2><h3 id=washing-machine>Washing machine</h3><p>A simple overview of number of washes (total and per-week) as well as daily and monthly power consumption.</p><div class=gallery-grid><figure style=font-size:small;margin:auto><img src=/images/what-to-measure/washing_mashine.png><figcaption>Washing machine stats</figcaption></figure></div><h3 id=garage>Garage</h3><p>Probably least relevant - but still I think it&rsquo;s interesting that we opened our garage 4831 times in shy over 3 years.</p><div class=gallery-grid><figure style=font-size:small;margin:auto><img src=/images/what-to-measure/garage.png><figcaption>Schematic overview of the circuit</figcaption></figure></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2023-12-04</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://noegel.io/posts/2023-12-04-what-to-measure-in-a-smart-home/ data-title="What to measure in a smart home" data-via=danielnoegel><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://noegel.io/posts/2023-12-04-what-to-measure-in-a-smart-home/><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://noegel.io/posts/2023-12-04-what-to-measure-in-a-smart-home/ data-title="What to measure in a smart home"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://noegel.io/posts/2023-12-04-what-to-measure-in-a-smart-home/ data-title="What to measure in a smart home"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://noegel.io/posts/2023-12-04-what-to-measure-in-a-smart-home/ data-title="What to measure in a smart home"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/2023-11-22-climate-control/ class=prev rel=prev title="How to make an AC smart"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>How to make an AC smart</a>
<a href=/posts/2024-10-10-heizkoerperverstaerker/ class=next rel=next title=Heizkörperverstärker>Heizkörperverstärker<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.104.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><span class=imprint><a href=https://noegel.io/data-privacy/>Datenschutz</a></span><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2024</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank></a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:60,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body><script>document.getElementsByTagName("figure");var list=document.getElementsByTagName("figure"),idx,img,caption,modal=document.getElementById("myModal"),captionText=document.getElementById("caption"),modalImg=document.getElementById("img01"),span=document.getElementsByClassName("closeModal")[0];modal.isVisible=!1,idx=-1;for(let e of list){if(idx++,img=e.getElementsByTagName("img")[0],img===void 0)continue;if(img.idx=idx,caption=e.getElementsByTagName("figcaption")[0],caption!==void 0&&(img.alt=caption.innerText),e.className==="book_cover")continue;img.onclick=function(){modalShow(this)}}span.onclick=function(){modalHide()},modal.onclick=function(){modalHide()};function modalShow(e){modal.style.display="block",modalImg.src=e.src,captionText.innerHTML=e.alt,modal.imgIdx=e.idx,modal.isVisible=!0}function modalHide(){modal.style.display="none",modal.isVisible=!1}function showImage(e){var n=list[e],t=n.getElementsByTagName("img")[0];if(t===void 0)return;modalShow(t)}document.onkeydown=function(e){e=e||window.event;var t,n,s=!1;"key"in e?(t=e.key==="Escape"||e.key==="Esc",n=e.key==="ArrowLeft",s=e.key==="ArrowRight"):(t=e.keyCode===27,n=e.keyCode===37,s=e.keyCode===39),t&&modalHide(),modal.isVisible&&(s&&showImage(Math.min(modal.imgIdx+1,list.length-1)),n&&showImage(Math.max(0,modal.imgIdx-1)))}</script></html>